---
title: 'CMS-API-Benachrichtigungen'
description: 'In diesem Thema erfahren Sie mehr über <span translate="No">CMS-API</span> Benachrichtigungen. Die <span translate="No">CMS-API</span> bietet Benachrichtigungen über Änderungen an den Videos in Ihrem Konto, unabhängig davon, ob sie von einem Kontobenutzer oder dem Video Cloud-System vorgenommen wurden.'
parent: 'Getting Started' 
grandparent: CMS API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
  <h2 id="overview">Überblick</h2>
  
  <p>Sie können Benachrichtigungen erhalten, wenn <code translate="No">video-change</code> Ereignisse in Ihrer Videobibliothek auftreten. Benachrichtigungen werden an die von Ihnen angegebene URL gesendet, die auf eine Anwendung verweisen sollte, die mit der Bearbeitung fähig ist <span translate="No">HTTP</span> <code translate="No">POST</code> Anfragen.</p>
  
  <h3>Authentifizierung</h3>
  
  <p>Wie alle Anfragen an die CMS-API müssen Anfragen zum Einrichten oder Auflisten von Benachrichtigungsabonnements mit einem authentifiziert werden <a href="/oauth/guides/getting-access-tokens.html">Zugangstoken</a>. Die zum Abrufen des Zugriffstokens verwendeten Client-Anmeldeinformationen müssen über Berechtigungen für . verfügen <code translate="No">video-cloud/notifications/all</code> (<strong translate="No">CMS-&gt;Benachrichtigungen</strong> wenn du das verwendest <a href="https://studio.support.brightcove.com/admin/managing-api-authentication-credentials.html">Studio-Benutzeroberfläche</a> um die Zugangsdaten zu erstellen.)</p>
  
  <h3>Aufstellen</h3>
  
  <p>Sie können bis zu 10 Endpunkte angeben, um Benachrichtigungen zu erhalten, indem Sie a <code translate="No">POST</code> Anfrage zu <code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/{account_id}/subscriptions</code> und Einfügen von JSON in den Anfragetext wie folgt:</p>
  
  <pre class="line-numbers">
        <code class="language-json" translate="No">{
        "endpoint":"http://solutions.brightcove.com/bcls/di-api/di-callbacks.php",
        "events":["video-change"]
        }
        </code>
        </pre>
  
  <p>Benachrichtigungen werden im JSON-Format gesendet. Hier ist ein Beispiel:</p>
  
  <pre class="line-numbers">
        <code class="language-json" translate="No">{"timestamp":1423840514446,
        "account_id":"775205503001",
        "event":"video-change",
        "video":"4020894387001",
        "version":26}
        </code>
        </pre>
  
  <aside class="bcls-aside bcls-aside--information">Derzeit gibt es keine andere Möglichkeit, Benachrichtigungen zu abonnieren, als über die API.</aside>
  
  <h3>Benachrichtigungsfelder</h3>
  
  <table class="bcls-table">
    <thead class="bcls-table__head">
      <tr>
        <th>Artikel</th>
        <th>Beschreibung</th>
      </tr>
    </thead>
    <tbody class="bcls-table__body">
      <tr>
        <td ><code translate="No">timestamp</code></td>
        <td >Zeitpunkt des Ereignisses in <span translate="No">Epoche</span> Millisekunden</td>
      </tr>
      <tr>
        <td ><code translate="No">account_id</code></td>
        <td >das <span translate="No">Video-Cloud</span> Konto-ID</td>
      </tr>
      <tr>
        <td ><code translate="No">event</code></td>
        <td >die Art der Veranstaltung - aktuell wird dies immer sein <code translate="No">video-change</code></td>
      </tr>
      <tr>
        <td ><code translate="No">video</code></td>
        <td >die Video-ID</td>
      </tr>
      <tr>
        <td ><code translate="No">version</code></td>
        <td >die Version des Videos – jeder Satz von Änderungsereignissen erhöht die Videoversion – zum Beispiel würde die Erstellung eines neuen Satzes von Wiedergaben einen Satz von Änderungsereignissen darstellen</td>
      </tr>
    </tbody>
  </table>
  
  <p>Anfragen zum Erstellen eines Abonnements erhalten eine <span translate="No">HTTP-422</span> Fehlerreaktion für folgende Bedingungen:</p>
  
  <ul>
    <li>Die <code translate="No">endpoint</code> oder <code translate="No">events</code> Feld fehlt im Anfragetext</li>
    <li>Die <code translate="No">events</code> Feldwert ist keine Liste (Array)</li>
    <li>Das definierte Abonnement ist bereits vorhanden</li>
    <li>Du hast bereits 10 Abonnements für diese Veranstaltung</li>
  </ul>
  
  <h3>Benachrichtigungsfehler</h3>
  
  <p>Das Benachrichtigungssystem behandelt alle <code translate="No">4xx</code> oder <code translate="No">5xx</code> Rückkehr vom Kundenserver als wiederholbarer Fehler. Fehlgeschlagene Rückrufe werden bis zu 20 Mal wiederholt, wobei die Verzögerung zwischen nachfolgenden Rückrufen exponentiell ansteigt. Die ersten Versuche werden innerhalb von Minuten nach dem ersten Rückrufversuch durchgeführt. Wenn der Rückruf weiterhin fehlschlägt und wir bis zum 20. Wiederholungsversuch gelangen, beträgt die Wiederholungsverzögerung einige Tage.</p>
  
  <aside class="bcls-aside bcls-aside--information">&gt;Hinweise:
  <ul>
    <li><code translate="No">video-change</code> Ereignisse werden durch automatisierte Systemprozesse sowie Benutzeraktionen ausgelöst, sodass diese Ereignisse nicht immer den Änderungen entsprechen, die Sie in Studio oder über die APIs an den Videoeigenschaften vorgenommen haben.</li>
    <li>Benachrichtigungshandler auf Servern, die auf HTTP2 basieren, werden derzeit nicht unterstützt. An HTTP2-Server gesendete Benachrichtigungen können möglicherweise nicht zugestellt werden, ohne dass ein Fehler zurückgegeben wird.</li>
  </ul>
  </aside>
  
  <h3>Firewalls</h3>
  
  <p>Falls Ihre Organisation eine strenge Richtlinie bezüglich der Quellen des eingehenden Datenverkehrs durch Ihre Firewall hat, erlauben wir die AWS us-east-1/Virginia IPs. Dies kann sich ändern, daher sollten alle AWS-IPs auf die Whitelist gesetzt werden. Sehen <a href="http://docs.aws.amazon.com/general/latest/gr/aws-ip-ranges.html">http://docs.aws.amazon.com/general/latest/gr/aws-ip-ranges.html</a> für mehr Informationen.</p>
  
  <h3>Endpunkt für Benachrichtigungsabonnements</h3>
  
  <pre class="line-numbers">
        <code class="language-http" translate="No">/accounts/{account_id}/subscriptions
        </code>
        </pre>
  
  <h3 id="createSubscription">Erstellen Sie ein neues Abonnement</h3>
  
  <p>Um ein neues Abonnement zu erstellen, senden Sie a <code translate="No">POST</code> Anfrage mit einem Anfragetext, der den Endpunkt enthält, an den Benachrichtigungen gesendet werden sollen, und <code translate="No">video-change</code> als Einzelstück in an <code translate="No">events</code> Array:</p>
  
  <pre class="line-numbers">
        <code class="language-json" translate="No">{ "endpoint": "http://solutions.brightcove.com:9002", "events": [ "video-change" ] }
        </code>
        </pre>
  
  <h3 id="getSubscriptions">Erhalten Sie eine Liste Ihrer Abonnements</h3>
  
  <p>Um eine Liste aller Ihrer Abonnements zu erhalten, senden Sie eine <code translate="No">GET</code> Anfrage an den Abonnementendpunkt.</p>
  
  <h3 id="getSubscription">Holen oder löschen Sie ein einzelnes Abonnement</h3>
  
  <p>Verwenden Sie den folgenden Endpunkt, um ein einzelnes Abonnement abzurufen oder zu löschen:</p>
  
  <h4>Endpunkt</h4>
  
  <pre class="line-numbers">
        <code class="language-http" translate="No">/accounts/{account_id}/subscriptions/{subscription_id}
        </code>
        </pre>
  
  <p>EIN <code translate="No">GET</code> request ruft das Abonnement ab. EIN <code translate="No">DELETE</code> Anfrage löscht das Abonnement. Sie können ein Abonnement derzeit nicht aktualisieren. Wenn Sie ein Abonnement ändern möchten, müssen Sie es löschen und ein neues erstellen.</p>
  </section>
  
  <section class="bcls-section">
  <h2 id="What_triggers">Was löst Benachrichtigungen aus?</h2>
  
  <p><code translate="No">video-change</code> Ereignisse werden durch jede Änderung in den Video-Metadaten ausgelöst. Dies schließt alle Änderungen am Video ein, die in Studio oder über a . vorgenommen wurden <span translate="No">CMS-API</span> Methode schreiben. Es gibt auch Systemereignisse, die ausgelöst werden <code translate="No">video-change</code> Veranstaltungen.</p>
  
  <p>Zu den Änderungen, die ein Ereignis auslösen, gehören:</p>
  
  <ul>
    <li>Ein Video wird erstellt</li>
    <li>Aufnahme der Video- oder Asset-Datei beginnt</li>
    <li>Aufnahme der Video- oder Asset-Datei ist abgeschlossen</li>
    <li>Codierung einer neuen Wiedergabe beendet</li>
    <li>Ein Posterbild wird erstellt</li>
    <li>Ein Miniaturbild wird erstellt</li>
    <li>Ein Video wurde gelöscht</li>
    <li>Video-Metadaten werden geändert (vom System oder einem Benutzer)</li>
  </ul>
  
  <h3>Anmerkungen</h3>
  
  <p>Das erneute Transkodieren eines Videos löst kein a . aus <code translate="No">video-change</code> -Ereignis, es sei denn, der resultierende Wiedergabesatz ist anders.</p>
  
  <p>Es gibt Systemereignisse, die auftreten, nachdem ein Video gelöscht wurde, sodass Sie nach dem Löschen eines Videos Benachrichtigungen erhalten.</p>
  
  <p>Was wird <strong>nicht</strong> auslösen <code translate="No">video-change</code> Ereignis ist eine Änderung an einem Video-Asset, die die Video-Metadaten nicht ändert. Wenn Sie beispielsweise eine Remote-Text-Track-Datei oder ein Bild ersetzen, die in den Video-Metadaten aufgezeichnete URL jedoch gleich bleibt, nein <code translate="No">video-change</code> Ereignis eintritt, und es wird keine Benachrichtigung gesendet.</p>
  </section>
  </article>