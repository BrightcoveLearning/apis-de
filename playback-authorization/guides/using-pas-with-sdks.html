---
title: "Verwenden von Wiedergabeautorisierungs-DRM mit den nativen SDKs"
description: "In diesem Thema erfahren Sie, wie Sie den Wiedergabeautorisierungsdienst von Brightcove verwenden, um Videos abzurufen, die für die dynamische Bereitstellung mit den nativen Brightcove-SDKs aufgenommen wurden."
parent: Guides 
grandparent: Playback Authorization
layout: staging
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  
  <br/>
  <aside class="bcls-aside bcls-aside--tip">Diese Funktion ist für eine bestimmte Gruppe von Kunden mit Zugriff auf die Phase der eingeschränkten Verfügbarkeit des Wiedergabeautorisierungsdienstes verfügbar.</aside>

  <section class="bcls-section">
    <h2 id="Introduction">Einführung</h2>

    <p>Der Playback Authorization Service (PAS) von Brightcove bietet ein zusätzliches Maß an Sicherheit, wenn Dynamic Delivery mit DRM-geschützten oder HTTP Live Streaming Encryption (HLSe)-Inhalten verwendet wird.</p>

    <p>Mit PAS werden Lizenzanfragen mit einem signierten . authentifiziert <a href="https://general.support.brightcove.com/developer/create-jwt.html">JSON-Webtoken (JWT)</a>.</p>

    <p>Es wird bei der Anforderung der Videolizenz verwendet, nachdem das Video auf den Player geladen und die Quelle ausgewählt wurde.</p>

    <aside class="bcls-aside bcls-aside--information">Bei HLSe-Inhalten wird eine neue Lizenzanforderung gestellt, wenn der Player die Wiedergabe aufgrund verbesserter Konnektivität oder nach dem Laden des ersten Segments ändert.</aside>

    <p>
      Weitere Informationen zu PAS finden Sie im <a href="/playback-authorization/getting-started/overview-playback-authorization-service.html">Überblick: DRM mit Playback Authorization Service</a> dokumentieren.
    </p>

  </section>

  <section class="bcls-section">
    <h2 id="Android_Implementation">Android-Implementierung</h2>

    <p>Das Native SDK für Android unterstützt derzeit PAS für HLSe- und Widevine DASH-Quellen. Sie geben Ihr Autorisierungstoken als Teil der Brightcove-Kataloganforderung für ein einzelnes Video oder eine Playlist an.</p>

    <p>
      Gehen Sie folgendermaßen vor, um eine Brightcove-Kataloganforderung mit PAS zu erstellen:
    </p>
    <ol class="bcls-tasklist__restart">
      <li>
        <p>
          Erstelle ein <code translate="No">HttpRequestConfig</code> -Objekt und legen Sie das Brightcove-Autorisierungstoken wie hier gezeigt fest:
        </p>
        <pre class="line-numbers"><code class="language-java" translate="No">HttpRequestConfig httpRequestConfig = new HttpRequestConfig.Builder()
       .setBrightcoveAuthorizationToken(myToken)
       .build();
</code></pre>
        <p>
          Der Wert des Autorisierungs-Tokens ist der Wert Ihres JSON-Web-Tokens.
        </p>
      </li>
      <li>
        <p>
          Nachdem Sie die erstellt haben <code translate="No">HttpRequestConfig</code> -Objekt können Sie dieses an eine der folgenden Catalog-Methoden übergeben:
        </p>
        <p>
          Verwenden Sie für eine Videoanfrage eine der folgenden Möglichkeiten:
        </p>
        <pre class="line-numbers"><code class="language-java" translate="No">findVideoByID(String, HttpRequestConfig, VideoListener)
</code></pre>
        <pre class="line-numbers"><code class="language-java" translate="No">findVideoByReferenceID(String, HttpRequestConfig, VideoListener)
</code></pre>
        <p>
          Verwenden Sie für eine Playlist-Anfrage eine der folgenden Möglichkeiten:
        </p>
        <pre class="line-numbers"><code class="language-java" translate="No">findPlaylistByID(String, HttpRequestConfig, PlaylistListener)
</code></pre>
        <pre class="line-numbers"><code class="language-java" translate="No">findPlaylistByReferenceID(String, HttpRequestConfig, PlaylistListener)
</code></pre>
        <p>
          Die Details der Token-Nutzung für den Erwerb von HLSe- und Widevine-Lizenzen werden vom SDK gehandhabt.
        </p>
        <aside class="bcls-aside bcls-aside--information">Bei Playlist-Anfragen müssen alle Videos in der Playlist dasselbe Token verwenden. In einer zukünftigen Version können Sie jedem Video in der Playlist ein anderes Token zuweisen. Sie sind für die Pflege der Zuordnung zwischen Video-ID und Token verantwortlich. Die <code translate="No">conid</code> wie im definiert <a href="/playback-authorization/guides/create-jwt.html#Create_a_JSON_Web_Token">JWT-Token-Ansprüche</a> ist der Video-ID-Wert, der einem Token zugeordnet ist.</aside>
      </li>
    </ol>

    <h3>Codebeispiel</h3>
    <p>
      Das folgende Beispiel zeigt, wie Sie Ihr Autorisierungstoken bei einer Kataloganforderung übergeben:
    </p>
    <pre class="line-numbers"><code class="language-java" translate="No">String myToken = &quot;...&quot;;
HttpRequestConfig httpRequestConfig = new HttpRequestConfig.Builder()
       .setBrightcoveAuthorizationToken(myToken)
       .build();
&hellip;

Catalog catalog = new Catalog(eventEmitter, accountId, policyKey, playbackApiBaseUrl);
catalog.findVideoByReferenceID(videoReferenceId, httpRequestConfig, new VideoListener(){...});
</code></pre>

    <h3>Offline-Wiedergabe</h3>
    <p>
      Der OfflineKatalog <code translate="No">findVideo</code> , <code translate="No">requestPurchaseLicense</code> und <code translate="No">requestRentalLicense</code> Methoden nehmen alle eine <code translate="No">HttpRequestConfig</code> als Argument.
    </p>
    <aside class="bcls-aside bcls-aside--tip">Der Wiedergabeautorisierungsdienst mit Offline-Wiedergabe wird mit dem Native SDK für Android v6.8.1 oder höher unterstützt.</aside>
    <pre class="line-numbers"><code class="language-java" translate="No">private HttpRequestConfig httpRequestConfig;
private String pasToken = &quot;YOUR_PAS_TOKEN&quot;;
...
HttpRequestConfig.Builder httpRequestConfigBuilder = new HttpRequestConfig.Builder();
httpRequestConfigBuilder.setBrightcoveAuthorizationToken(pasToken);
httpRequestConfig = httpRequestConfigBuilder.build();
playlist.findPlaylist(catalog, httpRequestConfig, new PlaylistListener() {
    @Override
    public void onPlaylist(Playlist playlist) {
        videoListAdapter.setVideoList(playlist.getVideos());
        onVideoListUpdated(false);
        brightcoveVideoView.addAll(playlist.getVideos());
    }

    @Override
    public void onError(String error) {
        String message = showToast(&quot;Failed to find playlist[%s]: %s&quot;, playlist.displayName, error);
        Log.w(TAG, message);
        onVideoListUpdated(true);
    }
});</code></pre>

    <p>
      Einzelheiten finden Sie im <a href="https://github.com/BrightcoveOS/android-player-samples/blob/master/brightcove-exoplayer/OfflinePlaybackSampleApp/src/main/java/com/brightcove/player/samples/offlineplayback/MainActivity.java">Beispiel-App für die Offline-Wiedergabe</a>.
    </p>

    <h3>Antworten</h3>
    <p>
      Die folgenden Antworten sind mit PAS verbunden:
    </p>
    <ul>
      <li>
        200 - Lizenz darf fortgesetzt werden
      </li>
      <li>
        401 - Die Lizenzlieferung darf nicht fortgesetzt werden
      </li>
    </ul>

    <h3>Einschränkungen</h3>
    <p>
      Bei der aktuellen Version gibt es eine Einschränkung:
    </p>
    <ul>
      <li>
        Chromecast wird mit der Wiedergabeautorisierung nicht unterstützt.
      </li>
    </ul>

  </section>

  <section class="bcls-section">
    <h2 id="iOS_Implementation">iOS-Implementierung</h2>

    <p>Wenn Sie den Wiedergabeautorisierungsdienst von Brightcove verwenden, müssen Sie die Wiedergabedienstmethoden verwenden, mit denen Sie Ihr Autorisierungstoken übergeben können.</p>

    <p>
      Verwenden Sie für eine Videoanfrage eine der folgenden Möglichkeiten:
    </p>
    <pre class="line-numbers"><code class="language-objectivec" translate="No">- (void)findVideoWithVideoID:(NSString *)videoID authToken:(NSString *)authToken parameters:(NSDictionary *)parameters completion:(void (^)(BCOVVideo *video, NSDictionary *jsonResponse, NSError *error))completionHandler;
</code></pre>
    <pre class="line-numbers"><code class="language-objectivec" translate="No">- (void)findVideoWithReferenceID:(NSString *)referenceID authToken:(NSString *)authToken parameters:(NSDictionary *)parameters completion:(void (^)(BCOVVideo *video, NSDictionary *jsonResponse, NSError *error))completionHandler;
</code></pre>

    <p>
      Verwenden Sie für eine Playlist-Anfrage eine der folgenden Möglichkeiten:
    </p>
    <pre class="line-numbers"><code class="language-objectivec" translate="No">- (void)findPlaylistWithPlaylistID:(NSString *)playlistID authToken:(NSString *)authToken parameters:(NSDictionary *)parameters completion:(void (^)(BCOVPlaylist *playlist, NSDictionary *jsonResponse, NSError *error))completionHandler;
</code></pre>
    <pre class="line-numbers"><code class="language-objectivec" translate="No">- (void)findPlaylistWithReferenceID:(NSString *)referenceID authToken:(NSString *)authToken parameters:(NSDictionary *)parameters completion:(void (^)(BCOVPlaylist *playlist, NSDictionary *jsonResponse, NSError *error))completionHandler;
</code></pre>

    <p>
      Die Details der Token-Nutzung für den Erwerb von HLSe- und FairPlay-Lizenzen werden vom SDK gehandhabt.
    </p>
    <aside class="bcls-aside bcls-aside--information">Bei Playlist-Anfragen müssen alle Videos in der Playlist dasselbe Token verwenden. In einer zukünftigen Version können Sie jedem Video in der Playlist ein anderes Token zuweisen. Sie sind für die Pflege der Zuordnung zwischen Video-ID und Token verantwortlich. Die <code translate="No">conid</code> wie im definiert <a href="/playback-authorization/guides/create-jwt.html#Create_a_JSON_Web_Token">JWT-Token-Ansprüche</a> ist der Video-ID-Wert, der einem Token zugeordnet ist.</aside>

    <p>
      Einzelheiten finden Sie im <a href="https://docs.brightcove.com/ios-sdk/index.html#PlaybackAuthorizationService">Wiedergabe-Autorisierungsdienst</a> Abschnitt der Native SDK für iOS-Referenz.
    </p>

    <h3>Offline-Wiedergabe</h3>
    <p>
      Wenn Sie den Playback Authorization Service mit Offline Playback verwenden, gibt es eine neue Methode zum Erneuern einer FairPlay-Lizenz, die einen Autorisierungstoken akzeptiert:
    </p>
    <pre class="line-numbers"><code class="language-objectivec" translate="No">// Request license renewal
    [BCOVOfflineVideoManager.sharedManager renewFairPlayLicense:offlineVideoToken
        video:video // recent video from Playback API or Playback Service class
        authToken: authToken
        Parameters: parameters
        completion:^(BCOVOfflineVideoToken offlineVideoToken, NSError *error)
    {
        // handle errors
    }];
</code></pre>

    <p>
      Wenn die Lizenzverlängerung abgeschlossen ist, wird der Abschlussblock mit demselben Offline-Video-Token aufgerufen, das übergeben wurde. Ein <code translate="No">NSError</code> zeigt jedes aufgetretene Problem an (oder null, wenn kein Fehler vorliegt).
    </p>

    <p>
      Einzelheiten finden Sie im <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/OfflinePlayback.md#renewing-a-fairplay-license">Erneuern einer FairPlay-Lizenz</a> Abschnitt der Native SDK für iOS-Referenz.
    </p>

    <h3>Antworten</h3>
    <p>
      Die folgenden Antworten sind mit PAS verbunden:
    </p>
    <ul>
      <li>
        200 - Lizenz darf fortgesetzt werden
      </li>
      <li>
        401 - Die Lizenzlieferung darf nicht fortgesetzt werden
      </li>
    </ul>

  </section>

  <section class="bcls-section">
    <h2 id="Related_topics">verwandte Themen</h2>

    <ul>
      <li>
        <a href="/playback-authorization/getting-started/overview-playback-authorization-service.html">Überblick: DRM mit Playback Authorization Service</a>
      </li>
      <li>
        <a href="/playback-authorization/getting-started/technical-workflow-pas.html">Implementieren von DRM mit dem Playback Authorization Service</a>
      </li>
      <li>
        <a href="/playback-authorization/guides/using-pas-with-bcp.html">Verwenden von DRM für die Wiedergabeautorisierung mit Brightcove Player</a>
      </li>
      <li>
        <a href="/playback-authorization/guides/additional-apis-for-pas.html">Zusätzliche APIs für den Playback Authorization Service</a>
      </li>
    </ul>
  </section>
</article>

<script>
  var h1 = document.querySelector('h1'), path = location.pathname, new_location = 'https://sdks.support.brightcove.com/features/playback-restrictions-with-sdks.html', message = '<h3>Diese Seite ist umgezogen nach <a href="' + new_location + '">' + new_location + '</a>. Bitte aktualisieren Sie Ihr Lesezeichen! Sie werden in 5 Sekunden weitergeleitet.<h3>'; console.log('neuer_Standort', neuer_Standort); h1.insertAdjacentHTML('Nachende', Nachricht); umleiten(); Funktion umleiten() { var t = window.setTimeout(go_to_new_location, 5000); } Funktion go_to_new_location() { window.location.href = new_location; }
</script>