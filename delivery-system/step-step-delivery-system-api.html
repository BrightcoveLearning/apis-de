---
title: 'Schritt für Schritt: Liefersystem-API'
description: 'Dieses Dokument bietet eine praktische Einführung in die Verwendung der Delivery System API zum Erstellen eines Repositorys (Repositorys). Im Repository speichern und aktualisieren Sie ein Plugin.'
parent: Delivery System API 
grandparent: Home
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
    <summary>{{ page.description }}</summary>
    <section id="Overview" class="bcls-section">
        <h2>Überblick</h2>

        <p>Hier sind die Schritte, die Sie ausführen werden:</p>

        <ul>
            <li>Erstellen Sie ein Repository mit der Delivery System API</li>
            <li>Erstellen Sie einen lokalen Ordner für die Dateispeicherung</li>
            <li>Erstellen Sie ein Plugin und kopieren Sie es in das Repo</li>
            <li>Ändern Sie den Player, um das neue Plugin zu verwenden</li>
            <li>Ändern Sie das Plugin und beobachten Sie, wie der Player das geänderte Plugin verwendet</li>
        </ul>

        <p class="BCL-aside">Notiz: Wenn Sie ein erfahrener Git-Benutzer sind, werden Sie feststellen, dass einige der API-Aufrufe äquivalente Funktionen ausführen, die Sie auch in Git ausführen können. Tatsächlich führen einige der API-Aufrufe zur Dateimanipulation lediglich Git-Befehle aus.</p>
    </section>

    <section id="prerreqs" class="bcls-section">
        <h2>Voraussetzungen</h2>

        <div class="BCL-concept">
            <p>Um diese Schritt-für-Schritt-Anleitung zu starten, wird davon ausgegangen, dass Sie die <a href="/player-management/getting-started/step-step-player-management.html">Schritt für Schritt: Spielerverwaltung</a>. Durch Abschluss dieser Aktivität haben Sie die folgenden Umgebungsvariablen in Ihrem Befehlszeilensystem definiert:</p>

            <ul>
                <li>{account_id}</li>
                <li>$EMAIL</li>
                <li>{player_id}</li>
            </ul>
        </div>
    </section>

    <section id="createrepo" class="bcls-section">
        <h2>Repository erstellen</h2>

        <div class="BCL-concept">
            <p>Sie verwenden nun die Delivery System API, um ein Repository zu erstellen und Dateien in dieses Repository zu kopieren. Sobald das Repository erstellt wurde, können Sie die API auch verwenden, um Repositorys aufzulisten, Details zu einem Repository anzuzeigen, Repositorys zu löschen usw., aber in vielen Workflows ist dies nicht erforderlich.</p>

            <p>In einer curl-Anweisung zum Erstellen des neuen Repositorys verwenden Sie ein HTTP <code translate="No">PUT</code> -Methode und schließen Sie den Namen des neuen Repositorys in die URL ein. Führen Sie diese curl-Anweisung aus, um ein Repository namens . zu erstellen <code translate="No">firstRepo</code>.</p>

            <pre class="line-numbers">
    <code class="language-bash" translate="No">curl \
      --user $EMAIL \
      --request PUT \
      https://repos.api.brightcove.com/v1/accounts/{account_id}/repos/firstRepo
    </code></pre>
            <!-- <code data-gist-id="8939637" data-gist-hide-footer="true" data-gist-line="1-5"></code><br /> -->

            <p>Sie erhalten eine Antwort, die die Erstellung des Repositorys bestätigt. Die Antwort zeigt: den Namen und die öffentliche URL zum Repository.</p>

            <ul>
                <li>Name: Name des Repositorys</li>
                <li>öffentliche_url: Die öffentliche URL zum Repo</li>
                <li>repo_url: Die Repository-URL</li>
            </ul>

            <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "name": "firstRepo",
      "public_url": "http://players.brightcove.net/1507807800001/firstRepo",
      "repo_url": "https://repos.api.brightcove.com/v1/accounts/1507807800001/repos/firstRepo"
    }</code></pre>
            <!-- <code data-gist-id="8939637" data-gist-hide-footer="true" data-gist-line="7-11"></code> -->
        </div>
    </section>

    <section id="connectrepofolder" class="bcls-section">
        <h2>Ordner erstellen</h2>

        <div class="BCL-concept">
            <p>Als Nächstes müssen Sie lokal auf Ihrem Computer einen Ordner zum Speichern der mit Ihrem Brightcove Player verknüpften Dateien erstellen. Erstellen Sie den Ordner an einem Ort Ihrer Wahl und verschieben Sie ihn (<code translate="No">cd</code> ) in diesen Ordner.</p>

            <pre class="line-numbers">
    <code class="language-bash" translate="No">mkdir firstRepo
    cd firstRepo</code></pre>
            <!-- <code data-gist-id="8939637" data-gist-hide-footer="true" data-gist-line="13-14"></code><br /> -->
        </div>
    </section>

    <section id="createplugin" class="bcls-section">
        <h2>Plugin erstellen</h2>

        <p>Jetzt erstellen Sie ein Plugin in Ihrem Ordner, um es in das Repository zu kopieren. Verwenden Sie dasselbe Plugin aus der Schritt-für-Schritt-Anleitung: Spielerverwaltung, außer den angezeigten Text zu ändern. Erstellen Sie die Datei, fügen Sie den Text von unten in die Datei ein und speichern Sie sie. Verwenden Sie denselben Dateinamen wie in der Schritt-für-Schritt-Anleitung: Spielerverwaltung, <code translate="No">first-plugin.js</code>.</p>

        <pre class="line-numbers">
    <code class="language-javascript" translate="No">videojs.registerPlugin('firstPlugin', function() {
      var player = this,
      overlay = document.createElement('p');
      overlay.className = 'vjs-overlay';
      overlay.innerHTML = "NEW TEXT!";
      player.el().appendChild(overlay);
    });</code></pre>
        <!-- <p><code data-gist-id="8939637" data-gist-hide-footer="true" data-gist-line="19-25"></code></p> -->

        <p>Sie kopieren nun die neu erstellte Plugin-Datei in das Repository. Verwenden Sie die folgende cURL-Anweisung, um diese Aufgabe auszuführen.</p>

        <pre class="line-numbers">
    <code class="language-bash" translate="No">curl \
      --user $EMAIL \
      --form contents=@first-plugin.js \
      --request PUT \
      https://repos.api.brightcove.com/v1/accounts/{account_id}/repos/firstRepo/files/first-plugin.js</code></pre>
        <!-- <p><code data-gist-id="8939637" data-gist-hide-footer="true" data-gist-line="113-117"></code></p> -->

        <p>Nach dem Kopieren sollten Sie eine Bestätigung ähnlich der folgenden sehen:</p>

        <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "name": "first-plugin.js",
      "public_url": "http://players.brightcove.net/1507807800001/firstRepo/first-plugin.js"
    }</code></pre>
        <!-- <p><code data-gist-id="8939637" data-gist-hide-footer="true" data-gist-line="119-122"></code></p> -->

        <p>Sie können überprüfen, ob die Datei korrekt kopiert wurde, indem Sie ihren Inhalt mit der folgenden cURL-Anweisung anzeigen.</p>

        <pre class="line-numbers">
    <code class="language-bash" translate="No">curl http://players.brightcove.net/{account_id}/firstRepo/first-plugin.js</code></pre>
        <!-- <p><code data-gist-id="8939637" data-gist-hide-footer="true" data-gist-line="125"></code></p> -->

        <p>Sie können die Datei auch anzeigen, indem Sie die <code translate="No">public_url</code> von der Dateikopie zurückgegeben.</p>

        <aside class="bcls-aside bcls-aside--information">Wenn Sie Änderungen an Ihrem Plugin vornehmen, kann es zu einer Verzögerung beim Anzeigen der Ergebnisse kommen, da alle Dateien, die über die Delivery System API gehostet werden, einem 5-minütigen Caching unterliegen. Das bedeutet, dass es bis zu fünf Minuten dauern kann, bis Ihr Plugin gelesen und verwendet wird. Wenn dies Ihr erster Test ist, gibt es keine Verzögerung.</aside>
    </section>

    <section id="usenewplugin" class="bcls-section">
        <h2>Neues Plugin verwenden</h2>

        <div class="BCL-concept">
            <p>Im Schritt-für-Schritt: Player Management Sie haben eine curl-Anweisung verwendet, um dem Player die Position des JavaScript-Codes für das Plugin zusammen mit dem CSS-Speicherort und dem Plugin-Namen mitzuteilen. Sie werden dasselbe erneut tun, außer dass der Pfad zum Plugin diesmal den neuen Pfad verwendet, der in der Antwort aus der Dateikopie gefunden wurde (siehe Zeile 2 oben in der Kopierantwort). Führen Sie die folgende curl-Anweisung aus, um auf den neuen Plugin-Speicherort zu verweisen.</p>

            <aside class="bcls-aside bcls-aside--information">Notiz: Auch wenn Sie keine Optionen angeben, müssen Sie den Namen des Plugins eingeben, wie hier gezeigt.</aside>

            <pre class="line-numbers">
    <code class="language-bash" translate="No">curl \
      --header "Content-Type: application/json" \
      --user $EMAIL \
      --request PATCH \
      --data '{
        "scripts": [
          "http://players.brightcove.net/{account_id}/firstRepo/first-plugin.js"
        ],
        "stylesheets": [
          "http://solutions.brightcove.com/bcls/video-js/new-player/first-plugin.css"
        ],
        "plugins": [{
          "name": "firstPlugin"
        }]
      }' \
      https://players.api.brightcove.com/v2/accounts/{account_id}/players/{player_id}/configuration</code></pre>
            <!-- <code data-gist-id="8939637" data-gist-hide-footer="true" data-gist-line="50-65"></code><br /> -->

            <aside class="bcls-aside bcls-aside--tip">Es ist eine bewährte Methode, Ihre CSS-Dateien auch in einem Repository zu speichern. Dies wurde hier der Einfachheit halber nicht gemacht. Sie hätten auch nur die aktualisieren können <code translate="No">scripts</code> Abschnitt in der <code translate="No">data</code> Teil der curl-Anweisung, da dies der einzige Abschnitt ist, der geändert wird. Zur Überprüfung die <code translate="No">scripts</code> , <code translate="No">stylesheets</code> und <code translate="No">plugins</code> Abschnitte wurden aktualisiert.</aside>

            <p>Verwenden Sie die zurückgegebene <code translate="No">preview_url</code> zum Durchsuchen des Players und Sie sehen den neuen Text aus dem Plugin angezeigt. Wenn Sie möchten, können Sie den Player auch veröffentlichen und die veröffentlichte Player-URL abrufen.</p>
        </div>
    </section>

    <section id="alterplugin" class="bcls-section">
        <h2>Plugin ändern</h2>

        <div class="BCL-concept">
            <p>Eine der Stärken der Verwendung des neuen Brightcove-Players ist die einfache Aktualisierung von Playern durch eine einzige Änderung an einem Plugin, und alle Player, die dieses Plugin verwenden, werden aktualisiert. An diesem Punkt in den Schritten nehmen Sie eine kleine Änderung am Plugin vor und sehen es in Verwendung, ohne Änderungen am Player selbst vorzunehmen.</p>

            <p>Öffne das <code translate="No">first-plugin.js</code> Datei und aktualisieren Sie den zu lesenden Text <strong>NEUER Text!</strong></p>

            <pre class="line-numbers">
    <code class="language-javascript" translate="No">overlay.innerHTML = "NEWer TEXT!";</code></pre>
            <!-- <code data-gist-id="8939637" data-gist-hide-footer="true" data-gist-line="68"></code><br /> -->

            <p>Kopieren Sie die Datei erneut in das Repository.</p>

            <pre class="line-numbers">
    <code class="language-bash" translate="No">curl \
      --user $EMAIL \
      --form contents=@first-plugin.js \
      --request PUT \
      https://repos.api.brightcove.com/v1/accounts/{account_id}/repos/firstRepo/files/first-plugin.js</code></pre>
            <!-- <p><code data-gist-id="8939637" data-gist-hide-footer="true" data-gist-line="113-117"></code></p> -->

            <p>Durchsuchen Sie das gleiche <code translate="No">preview_url</code> wieder von oben. Notiz: Aufgrund des Browser-Caching müssen Sie möglicherweise den Browser-Tab schließen und erneut surfen oder sogar den Cache des Browsers leeren, um den aktualisierten Text anzuzeigen.</p>

            <p>Sobald Sie sehen, dass die neueste Version des Plugins funktioniert, können Sie Ihren Player veröffentlichen.</p>
        </div>
    </section>
</article>