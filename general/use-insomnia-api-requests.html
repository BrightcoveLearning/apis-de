---
title: 'Schlaflosigkeit für API-Anfragen verwenden'
description: 'In diesem Thema erfahren Sie, wie Sie den beliebten Insomnia-HTTP-Client einrichten, um Anforderungen an die Brightcove-RESTful-APIs zu senden.'
parent: General Information
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="introduction">Einführung</h2>
    <p>Einige finden curl-Anweisungen und die Befehlszeile, die für viele der Beispiele in unserer Dokumentation zu Plattform-APIs verwendet wird, als schwierig und einschüchternd. Für diese gibt es zahlreiche Tools zum Senden von HTTP-Anforderungen an REST-basierte Dienste, die die meisten Brightcove-APIs enthalten. Dieses Dokument zeigt Ihnen, wie Sie ein beliebtes Tool verwenden, das <a href="https://insomnia.rest"><span translate="No">Schlaflosigkeit</span> App</a>.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Install_insomnia">Installieren <span translate="No">Schlaflosigkeit</span></h2>
    <p>Werden <span translate="No">Schlaflosigkeit</span> von <a href="https://insomnia.rest"><span translate="No">https://insomnia.rest</span></a>. <span translate="No">Schlaflosigkeit</span> kann auf Mac-, Linux- oder Windows-Systemen installiert werden.</p>
		</section>
		<section class="bcls-section">
			<h2 id="authentication">Authentifizierung</h2>
    <p><span translate="No">Schlaflosigkeit</span> kann verwendet werden, um Anfragen an eine der RESTful-APIs von Brightcove zu stellen. Die meisten APIs verwenden OAuth2 für die Authentifizierung, und wir werden sehen, wie man das in einrichtet <span translate="no">Schlaflosigkeit</span> später in diesem Dokument. Sie können es jedoch auch für APIs verwenden, die kein OAuth verwenden, indem Sie einfach den entsprechenden Header setzen.</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="Set Header in Insomnia" src="/assets/images/general/insomnia/18462-set-header.png" />
      <figcaption class="bcls-caption--image">Kopfzeile setzen in <span translate="No">Schlaflosigkeit</span></figcaption>
    </figure>
    <p>So sieht dieser Header für Anfragen mit anderen Authentifizierungsmethoden als Oauth2 aus:</p>
    <dl>
      <dt ><a href="/playback/index.html"><span translate="No">Wiedergabe-API</span></a></dt>
      <dd >
        <pre>
  <code class="language-http" translate="No">BCOV-Policy: <span class="bcls-input">YOUR_POLICY_KEY</span></code></pre>
      </dd>
      <dt ><a href="https://live.support.brightcove.com/live-api/"><span translate="No">Live-API</span></a></dt>
      <dd >
        <pre>
  <code class="language-http" translate="No">X-API-KEY: <span class="bcls-input">YOUR_API_KEY</span></code></pre>
      </dd>
      <dt ><a href="https://zencoder.support.brightcove.com">Zencoder-API</a></dt>
      <dd >
        <pre>
  <code class="language-http" translate="No">Zencoder-Api-Key: <span class="bcls-input">YOUR_API_KEY</span></code></pre>
      </dd>
    </dl>
  </section>
  <section class="bcls-section">
    <h2 id="getCredentials">Kundenanmeldeinformationen abrufen</h2>
    <p>Um mit den meisten Brightcove-APIs zu arbeiten, benötigen Sie Client-Anmeldeinformationen für das Konto und die API(s), die Sie verwenden möchten. Rufen Sie Ihre Kundenanmeldeinformationen in Studio ab, indem Sie den Anweisungen in folgen <a href="/general/managing-api-authentication-credentials.html">Anmeldeinformationen für die API-Authentifizierung verwalten</a>. In den folgenden Schritten machen wir <span translate="No">CMS-API</span> Anfragen mit <span translate="No">Schlaflosigkeit</span> , daher sollten Ihre Anmeldeinformationen mindestens die folgenden Berechtigungen haben:</p>
    <ul>
      <li><strong>Videos</strong>: <strong>Lesen Schreiben</strong></li>
    </ul>
    <p>Sie können beliebig viele zusätzliche Berechtigungen hinzufügen, um Anmeldeinformationen zu erhalten, die für eine breitere Palette von API-Anfragen verwendet werden können. Beachten Sie auch, dass Sie Anmeldeinformationen erhalten können, die für mehrere Konten funktionieren, wenn Sie möchten.</p>
    <aside class="bcls-aside bcls-aside--information">Um Kundenanmeldeinformationen zu generieren, müssen Sie über Administratorberechtigungen für Studio verfügen oder eine Person in Ihrer Organisation mit Administratorberechtigungen beauftragen, die Anmeldeinformationen für Sie zu generieren.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="usingInsomnia">Verwenden von <span translate="No">Schlaflosigkeit</span></h2>
    <p>Sobald Sie Ihre Kundendaten haben, können Sie mit der Nutzung beginnen <span translate="No">Schlaflosigkeit</span>. <span translate="No">Schlaflosigkeit</span> wird Ihnen viel Einrichtungsarbeit abnehmen, wenn Sie die OpenAPI-Spezifikation für die CMS-API importieren, die wir Ihnen zur Verfügung stellen. Die folgenden Schritte führen Sie durch die Erstellung einiger <strong>CMS-API</strong> Anfragen mit <span translate="No">Schlaflosigkeit</span>.</p>
    <h3>Einrichten eines <span translate="No">Schlaflosigkeit</span> Sammlung für die CMS-API</h3>
		<h4>Holen Sie sich die OpenAPI-Spezifikation für die CMS-API</h4>
		<ol class="bcls-tasklist-restart">
			<li>Öffne das <a href="/cms/references/reference.html">CMS-API-Referenz</a>.</li>
			<li>
				Drücke den <strong>Herunterladen</strong> Schaltfläche und speichern Sie die <code translate="no">openapi.yaml</code> Datei an einer Stelle, wo Sie sie wiederfinden:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/download-cms-api-openapi-spec.png" alt="Download Open API Specification">
					<figcaption class="bcls-caption--image">Offene API-Spezifikation herunterladen</figcaption>
				</figure>
			</li>
		</ol>
		<h4>Importieren Sie die OpenAPI-Spezifikation in Insomnia</h4>
    <ol class="bcls-tasklist-restart">
      <li>Starte den <span translate="No">Schlaflosigkeit</span> App.</li>
      <li>Klicken Sie auf das Dropdown-Menü neben <span translate="No">Schlaflosigkeit</span> und wählen Sie <strong>Import Export</strong>:
        <figure class="bcls-figure"><img class="bcls-image" alt="Import/Export" src="/assets/images/general/insomnia/import-export.png" />
          <figcaption class="bcls-caption--image">Import Export</figcaption>
        </figure>
      </li>
			<li>
				Klicken Sie im sich öffnenden Dialog auf <strong>Daten importieren</strong> und wählen Sie <strong>Aus Datei</strong>:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/import-data-from-file.png" alt="Import Data from File">
					<figcaption class="bcls-caption--image">Daten aus Datei importieren</figcaption>
				</figure>
			</li>
			<li>
				Wähle aus <code translate="no">openapi.yaml</code> heruntergeladene Datei und wählen Sie dann aus, ob Sie die Daten in den aktuellen Arbeitsbereich importieren oder einen neuen erstellen möchten. Beides funktioniert, aber wir empfehlen, für jede API einen neuen Arbeitsbereich zu erstellen:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/create-new-workspace.png" alt="Create New Workspace">
					<figcaption class="bcls-caption--image">Neuen Arbeitsbereich erstellen</figcaption>
				</figure>
			</li>
			<li>
				Als nächstes werden Sie gefragt, ob Sie die Daten als Request Collection oder Design Document importieren möchten. Wählen <strong>Abholung anfordern</strong>:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/import-request-collection.png" alt="Import as Request Collection">
					<figcaption class="bcls-caption--image">Als Anfragesammlung importieren</figcaption>
				</figure>
			</li>
			<li>Sie sehen einen Dialog, der bestätigt, dass die Daten importiert wurden.</li>
			<li>
				Klicke auf <strong>Armaturenbrett</strong> in der oberen linken Ecke, um Ihre Arbeitsbereiche anzuzeigen. Wenn Sie einen neuen Arbeitsbereich erstellt haben, wird dieser mit dem entsprechenden Namen angezeigt:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/cms-api-workspace.png" alt="CMS API Workspace">
					<figcaption class="bcls-caption--image">CMS-API-Arbeitsbereich</figcaption>
				</figure>
			</li>
      <li>Klicken Sie auf den Arbeitsbereich, um ihn zu öffnen.</li>
			<li>
				Sie sehen eine Liste von Ordnern, die die verschiedenen Gruppen von Anfragen für die CMS-API enthalten, sowie eine neue OpenAPI-Umgebung:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/cms-api-evironment-and-request-folders.png" alt="CMS API Requests and Environment">
					<figcaption class="bcls-caption--image">CMS-API-Anfragen und -Umgebung</figcaption>
				</figure>
			</li>
    </ol>
  </section>
	<section class="bcls-section">
		<h2 id="add_variables_to_environment">Variablen zur Umgebung hinzufügen</h2>
		<p>Dies ist ein optionaler Schritt, der jedoch die spätere Einrichtung der Authentifizierung für Anforderungen vereinfacht.</p>
		<ol class="bcls-tasklist-restart">
			<li>
				Klicken Sie auf die <strong>OpenAPI-Umgebung</strong> Dropdown-Menü und wählen Sie <strong>Umgebungen verwalten</strong>:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/" alt="Manage Environments">
					<figcaption class="bcls-caption--image">Umgebungen verwalten</figcaption>
				</figure>
			</li>
			<li>
				Sie sehen die Umgebungsvariablen, die <span translate="no">Schlaflosigkeit</span> erstellt aus der OpenAPI-Spezifikation in Form von JSON:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/environment-json.png" alt="Environment Variables">
					<figcaption class="bcls-caption--image">Umgebungsvariablen</figcaption>
				</figure>
			</li>
			<li>
				Fügen Sie diese zusätzlichen Variablen zum JSON hinzu (siehe <a href="#getCredentials">Kundenanmeldeinformationen abrufen</a> oben auf dem <code translate="no">Kunden ID</code> und <code translate="no">client_secret</code>):
				<ul>
					<li><code translate="no">"account_id": "<span class="bcls-input">your_account_id</span>"</code></li>
					<li><code translate="no">"Kunden ID": "<span class="bcls-input">your_client_id</span>"</code></li>
					<li><code translate="no">"client_secret": "<span class="bcls-input">your_client_secret</span>"</code></li>
					<li>"access_token_url": "https://oauth.brightcove.com/v4/access_token"<code translate="no"></code></li>
				</ul>
			</li>
			<li>
				Wenn Sie fertig sind, sollte das Umgebungs-JSON ungefähr so aussehen:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/environment-vars-added.png" alt="Environment Variables Added">
					<figcaption class="bcls-caption--image">Umgebungsvariablen hinzugefügt</figcaption>
				</figure>
			</li>
			<li>Klicken <strong>Fertig</strong> in der unteren rechten Ecke, um den Dialog zu verlassen.</li>
		</ol>
	</section>
  <section class="bcls-section">
    <h2 id="Set_up_authentication">Authentifizierung einrichten</h2>
    <p>Jetzt können wir die Authentifizierung für API-Anfragen einrichten.</p>
    <ol class="bcls-tasklist-restart">
      <li>Drücke den <strong>Videos</strong> Ordner und wählen Sie das <strong>Videos abrufen</strong>:
        <figure class="bcls-figure"><img class="bcls-image" alt="New Request" src="/assets/images/general/insomnia/18462-new-request.png" />
          <figcaption class="bcls-caption--image">Neue Anfrage</figcaption>
        </figure>
      </li>
			<li>
				Beachten Sie, dass die URL für die Anforderung bereits zwei Variablen enthält. Wenn Sie auf diese klicken, können Sie ihre Werte sehen (und ändern). <code translate="no">base_url</code> wird automatisch generiert von <span class="”notranslate”">Schlaflosigkeit</span> aus der OpenAPI-Spezifikation. Wenn Sie auf klicken <code translate="no">account_id</code> , sollten Sie feststellen, dass der Wert mit dem übereinstimmt, was Sie im vorherigen Abschnitt als Umgebungsvariable eingegeben haben.</li>
      <li>
				Drücke den <strong>Authentifizierung</strong> Registerkarte und die <strong>Auth-Dropdown-Menü</strong> Menü und wählen Sie <strong>OAuth 2.0</strong>:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/select-auth-type.png" alt="Select Auth Type">
					<figcaption class="bcls-caption--image">Authentifizierungstyp auswählen</figcaption>
				</figure>
			</li>
      <li>
				Drücke den <strong>Grant-Typ</strong> Dropdown und wählen Sie <strong>Kundenanmeldeinformationen</strong>:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/" alt="Select Grant Type">
					<figcaption class="bcls-caption--image">Grant-Typ auswählen</figcaption>
				</figure>
      </li>
      <li>
				In dem <strong>Zugriffs-Token-URL</strong> Feld, beginnen Sie mit der Eingabe von "access_token_url" - Sie sehen das Autovervollständigungsmenü und wählen Ihre <code translate="no">access_token_url</code> Umgebungsvariable:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/access-token-url.png" alt="Autocomplete for Variables">
					<figcaption class="bcls-caption--image">Autovervollständigung für Variablen</figcaption>
				</figure>
      </li>
      <li>
				Wiederholen Sie den vorherigen Schritt, um die <strong>Kunden ID</strong> und <strong>Client-Geheimnis</strong> Felder mit deinem <code translate="no">Kunden ID</code> und <code translate="no">client_secret</code> Variablen:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/auth-variables.png" alt="Auth Variables">
					<figcaption class="bcls-caption--image">Auth-Variablen</figcaption>
				</figure>
			</li>
      <li>
				Scrollen Sie nach unten, um die zu sehen <strong>Token holen</strong> Schaltfläche und klicken Sie darauf. Stellen Sie sicher, dass das Feld Zugriffstoken mit einem Token gefüllt ist:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/access-token.png" alt="Access Token">
					<figcaption class="bcls-caption--image">Zugangstoken</figcaption>
				</figure>
			</li>
      <li>Klicken <strong>Token holen</strong> um sicherzustellen, dass dies funktioniert. Sie sollten eine Antwort wie diese sehen:
        <figure class="bcls-figure"><img class="bcls-image" alt="Access Token" src="/assets/images/general/insomnia/18462-access-token.png" />
          <figcaption class="bcls-caption--image">Zugangstoken</figcaption>
        </figure>
        <aside class="bcls-aside bcls-aside--information">Eines der netten Features von <span translate="No">Schlaflosigkeit</span> ist das, wenn du das eingerichtet hast, tust du es? <strong>nicht</strong> muss das Token manuell aktualisieren - <span translate="No">Schlaflosigkeit</span> wird automatisch neue erhalten, wenn sie benötigt werden.</aside>
      </li>
			<li>
				Gehe zum <strong>Header</strong> Tab und löschen Sie die <strong>Genehmigung</strong> header (die Authentifizierung, die Sie gerade eingerichtet haben, kümmert sich um den Head - dieser wird ihn brechen):
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/remove-authorization-header.png" alt="Remove Authorization Header">
					<figcaption class="bcls-caption--image">Autorisierungs-Header entfernen</figcaption>
				</figure>
			</li>
    </ol>
		<aside class="bcls-aside bcls-aside--information">Anmerkungen:
			<ul>
				<li><span class="”notranslate”">Schlaflosigkeit</span> repliziert die Authentifizierungseinstellungen nicht auf andere Anforderungen, daher müssen Sie diese Schritte für jede zu testende Anforderung wiederholen.</li>
				<li>Eines der netten Features von <span class="”notranslate”">Schlaflosigkeit</span> ist jedoch, dass, sobald Sie die OAuth 2-Authentifizierung eingerichtet haben, bei Bedarf automatisch neue Zugriffstoken abgerufen werden. Sie müssen nicht manuell einen neuen abrufen, wenn der vorhandene abläuft.</li>
			</ul>
		</aside>
  </section>
	<section class="bcls-section">
		<h2 id="Make_a_request">Eine Anfrage stellen</h2>
		<p>Jetzt sind wir bereit, einen zu machen <strong>Videos abrufen</strong> Anfrage.</p>
		<ol class="bcls-tasklist-restart">
			<li>Da dies ein <code translate="no">WERDEN</code> Anfrage, alles was Sie tun müssen, ist klicken <strong>Senden</strong>.</li>
			<li>
				Die JSON-Antwort sollte im Antwortbereich angezeigt werden:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/get-response.png" alt="API Response">
					<figcaption class="bcls-caption--image">API-Antwort</figcaption>
				</figure>
			</li>
			<li>
				Beachten Sie, dass Sie mit verschiedene Videosätze abrufen können <strong>Anfrage</strong> Parameter. Drücke den <strong>Anfrage</strong> Registerkarte für die Anfrage, und Sie werden das sehen <span class="”notranslate”">Schlaflosigkeit</span> hat es basierend auf der OpenAPI-Spezifikation aufgefüllt. Überprüfen Sie einfach die Parameter, die Sie verwenden möchten, und legen Sie die Werte fest:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/query-params.png" alt="Query Params">
					<figcaption class="bcls-caption--image">Abfrageparameter</figcaption>
				</figure>
			</li>
	</ol>
	</section>
  <section class="bcls-section">
    <h2 id="postRequest">Sende ein <code translate="No">POST</code> Anfrage</h2>
    <p>Jetzt senden wir eine <code translate="No">POST</code> mit einigen Daten anfordern. In diesem Fall erstellen wir mithilfe der CMS-API ein neues Videoobjekt. Beginnen Sie mit der Auswahl der <strong>Video erstellen</strong> Anfrage in der <strong>Videos</strong> Mappe.</p>
    <ol class="bcls-tasklist-restart">
			<li>Wiederholen Sie alle Schritte im <a href="#Set_up_authentication">Authentifizierung einrichten</a> Abschnitt oben, um die Authentifizierung für diese neue Anforderung einzurichten.</li>
			<li>
				Diese Anfrage erfordert einen Anfragetext, klicken Sie also auf die Registerkarte JSON und geben Sie diesen JSON-Code ein, um das zu ersetzen <code translate="no">Null</code>:
<pre class="line-numbers"><code class="language-json" translate="No">{
	"name": "Insomnia Test"
}</code></pre>
<figure class="bcls-figure">
  <img class="bcls-image" src="/assets/images/general/insomnia/request-body.png" alt="Request Body">
  <figcaption class="bcls-caption--image">Anfragekörper</figcaption>
</figure>
			</li>
			<li>Klicken <strong>Senden</strong> und Sie sollten das neue Videoobjekt in der Antwort sehen.</li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Using_the_code_generators">Verwenden der Codegeneratoren</h2>
    <p>Ein weiteres nettes Feature von <span class="”notranslate”">Schlaflosigkeit</span> besteht darin, dass es Code zum Senden von Anfragen in vielen verschiedenen Sprachen generiert.</p>
    <ol class="bcls-tasklist-restart">
      <li>
        Klicken Sie mit der Maus auf das Dropdown-Menü für eine Anfrage:
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/insomnia/dropdown-menu-for-requests.png" alt="Request Dropdown Menu">
          <figcaption class="bcls-caption--image">Dropdown-Menü anfordern</figcaption>
        </figure>
      </li>
      <li>
        Auswählen <strong>Code generieren</strong> aus der Speisekarte:
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/insomnia/generate-code-option.png" alt="Select Generate Code">
          <figcaption class="bcls-caption--image">Wählen Sie Code generieren</figcaption>
        </figure>
      </li>
      <li>
        In dem <strong>Kundencode generieren</strong> Wählen Sie in dem sich öffnenden Dialogfeld die Sprache aus, für die der Code verwendet werden soll:
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/insomnia/choose-code-type.png" alt="Select the Language">
          <figcaption class="bcls-caption--image">Wählen Sie die Sprache</figcaption>
        </figure>
      </li>
      <li>
        Für viele der Sprachen gibt es auch Varianten, die Sie auswählen können, die möglicherweise besser zu der Art der App passen, die Sie erstellen:
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/insomnia/choose-code-variants.png" alt="Select Code Variant">
          <figcaption class="bcls-caption--image">Codevariante auswählen</figcaption>
        </figure>
      </li>
      <li>
        Es gibt auch eine praktische Schaltfläche zum Kopieren des Codes in Ihre Zwischenablage:
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/insomnia/view-copy-code.png" alt="View and Copy Code">
          <figcaption class="bcls-caption--image">Code anzeigen und kopieren</figcaption>
        </figure>
      </li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Conclusion">Abschluss</h2>
    <p>Sie kennen jetzt die Grundlagen der Verwendung <span translate="No">Schlaflosigkeit</span> um Anfragen an die Brightcove-APIs zu stellen. Beachten Sie, dass, wenn Sie sich für ein kostenloses Upgrade entscheiden <span translate="No">Schlaflosigkeit</span> Konto zu einem Teamkonto hinzufügen, können Sie auch alle Ihre Anfragen und Umgebungen synchronisieren und mit anderen Teammitgliedern teilen.</p>
  </section>
</article>