---
title: 'Verwenden von Authentifizierungs-APIs'
description: "In diesem Thema erfahren Sie mehr über die APIs, die zum Verwalten des Schlüssel-/Lizenzschutzes bei Verwendung von Brightcove-Wiedergabeeinschränkungen verwendet werden."
parent: Guides 
grandparent: Playback Restrictions
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <!-- <br />
  <aside class="bcls-aside  bcls-aside--tip">
    This feature is available for a specific set of customers with access to the
    Limited Availability phase of the Playback Restrictions.
  </aside> -->

  <section class="bcls-section">
    <h2 id="Introduction">Einführung</h2>

    <p>
      Brightcove-Wiedergabeeinschränkungen bieten ein zusätzliches Maß an Sicherheit, wenn Dynamic Delivery mit DRM-geschützten oder HTTP Live Streaming Encryption (HLSe)-Inhalten verwendet wird.
    </p>
    <p>Wenn Sie mit dieser Funktion nicht vertraut sind, lesen Sie die <a href="/playback-restrictions/getting-started/overview-playback-restrictions.html">Überblick: Brightcove-Wiedergabebeschränkungen</a> dokumentieren.</p>

    <p>
      Hier sind die verfügbaren APIs für die Verwaltung des Schlüssel-/Lizenzschutzes:
    </p>
    <ul>
      <li>
        <a href="#Register_public_key">Öffentlichen Schlüssel registrieren</a>
      </li>
      <li>
        <a href="#Blacklist_tokens">Blacklist-Token</a>
      </li>
      <li>
        <a href="#Audit_an_account">Ein Konto prüfen</a>
      </li>
    </ul>
    <aside class="bcls-aside  bcls-aside--information"> Diese APIs werden nur unterstützt, wenn DRM mithilfe von Wiedergabebeschränkungen verwaltet wird. </aside>
  </section>

  <section class="bcls-section">
    <h2 id="Register_public_key">Öffentlichen Schlüssel registrieren</h2>
    <p>Sie besitzen den privaten Schlüssel und verwenden ihn, um signierte Token zu generieren. Sie geben den öffentlichen Schlüssel an Brightcove weiter, um Ihre Token zu überprüfen. Mit der Schlüssel-API können Sie Ihren öffentlichen Schlüssel bei Brightcove registrieren.</p>
    <h3>Schlüssel-API</h3>
    <p>
      Die Schlüssel-API wird verwendet, um Ihre öffentlichen Schlüssel mit Brightcove zu verwalten.
    </p>

    <h3>Basis-URL</h3>
    <p>
      Die Basis-URL für die API lautet:
    </p>
    <pre><code class="language-http" translate="No">https://playback-auth.api.brightcove.com</code></pre>

    <h3>Kontopfad</h3>
    <p>
      In allen Fällen werden Anfragen für ein bestimmtes Video Cloud-Konto gestellt. Sie fügen also immer den Begriff Konten gefolgt von Ihrer Konto-ID zur Basis-URL hinzu:
    </p>
    <pre><code class="language-http" translate="No">https://playback-auth.api.brightcove.com/v1/accounts/{accountID}</code></pre>

    <h3>Genehmigung</h3>
    <p>
      Ein Zugriffstoken für Anfragen ist erforderlich und muss im Authorization-Header vorhanden sein:
    </p>
    <pre><code class="language-http" translate="No">Authorization: Bearer {access_token}</code></pre>
    <p>
      Das Zugriffstoken ist ein temporäres OAuth2-Zugriffstoken, das vom Brightcove OAuth-Dienst abgerufen werden muss. Ausführliche Informationen zum Abrufen von Client-Anmeldeinformationen und deren Verwendung zum Abrufen von Zugriffstoken finden Sie im <a href="/oauth/getting-started/overview-oauth-api-v4.html">Übersicht über Brightcove OAuth</a>.
    </p>

    <h3>Berechtigungen</h3>
    <p>
      Anfragen an die Schlüssel-API müssen gestellt werden von <a href="/oauth/getting-started/overview-oauth-api-v4.html#Get_Client_Credentials">Kundenanmeldeinformationen</a> mit folgenden Berechtigungen:
    </p>
    <ul>
      <li>
        <code translate="No">video-cloud/playback-auth/key/read</code>
      </li>
      <li>
        <code translate="No">video-cloud/playback-auth/key/write</code>
      </li>
    </ul>

    <h3>Schlüssel verwalten</h3>
    <p>
      Die Key API unterstützt die folgenden Anfragen:
    </p>
    <aside class="bcls-aside bcls-aside--information">
      <p>
        Anmerkungen:
      </p>
      <ul>
        <li>
          Es ist nicht möglich, einen vorhandenen Schlüssel zu bearbeiten, aber Sie können ihn löschen und einen neuen erstellen.
        </li>
        <li>
          Es können maximal 3 Schlüssel gleichzeitig registriert und Schlüssel können gelöscht werden, um die Schlüsselrotation zu unterstützen. In der Praxis ist es am besten, nur 1 Schlüssel zu haben.
        </li>
      </ul>
    </aside>

    <h3>Registrieren Sie einen neuen Schlüssel:</h3>
    <p>
      Geben Sie den Wert Ihres öffentlichen Schlüssels in den API-Anfragetext ein. Den Schlüssel findest du im <strong>public_key.txt</strong> Datei.
    </p>
    <h4>API-Anfrage</h4>
    <pre class="line-numbers"><code class="language-http" translate="No">POST /v1/accounts/{accountID}/keys
    Content-Type: application/json
    Body: {"value": "MFkwEwYHKoZIzj0CAQYIKoZIzj...MyeQviqploA=="}
</code></pre>
<details>
  <summary>
    <p id="Using_Curl">Verwendung von Curl</p>
  </summary>
    <pre class="line-numbers"><code class="language-curl">curl -X POST \\ -H "Content-Type: application/json" \\ -H "Autorisierung: Träger {access_token} " \\ -D '{"value": "{your_public_key_value}"}'  \\ https://playback-auth.api.brightcove.com/v1/accounts/{accountID}/Schlüssel </code></pre>
  </details>

    <h4>API-Antwort</h4>
  <pre class="line-numbers"><code class="language-json" translate="No">{
    &quot;id&quot;: &quot;{your_public_key_id}&quot;,
    &quot;type&quot;: &quot;public&quot;,
    &quot;algorithm&quot;: &quot;rsa&quot;,
    &quot;value&quot;: &quot;{your_public_key_value}&quot;,
    &quot;createdAt&quot;: &quot;2020-01-03T20:30:36.488Z&quot;
  }</code></pre>
  
    <h3>Listenschlüssel:</h3>
    <p>
      Rufen Sie eine Liste der öffentlichen Schlüssel in Ihrem Konto ab.
    </p>
    <pre><code class="language-http" translate="No">GET /v1/accounts/{accountID}/keys</code></pre>

    <h3>Holen Sie sich einen Schlüssel:</h3>
    <p>
      Rufen Sie die Details für einen öffentlichen Schlüssel in Ihrem Konto ab.
    </p>
    <pre><code class="language-http" translate="No">GET /v1/accounts/{accountID}/keys/{key_Id}</code></pre>

    <h3>Einen Schlüssel löschen:</h3>
    <p>
      Löschen Sie einen öffentlichen Schlüssel in Ihrem Konto.
    </p>
    <pre><code class="language-http" translate="No">DELETE /v1/accounts/{accountID}/keys/{key_Id}</code></pre>
  </section>

  <section class="bcls-section">
    <h2 id="Blacklist_tokens">Blacklist-Token</h2>

    <p>
      Ein Token, das auf die schwarze Liste gesetzt wurde, wird für Lizenzanfragen nicht als gültig angesehen, selbst wenn es ansonsten genehmigt worden wäre. Kunden können bis zu 100 Token auf die schwarze Liste setzen. Wenn bereits 100 Token auf der schwarzen Liste stehen, muss ein Kunde einen oder mehrere Token löschen, um Platz für weitere Einträge zu schaffen.
    </p>

    <h3>Blacklist-API</h3>
    <p>
      Die Blacklist-API wird verwendet, um Ihre Token zu verwalten, die auf der schwarzen Liste stehen und für Lizenzanfragen als nicht gültig gelten.
    </p>

    <h3>Basis-URL</h3>
    <p>
      Die Basis-URL für die Blacklist-API lautet:
    </p>
    <pre><code class="language-http" translate="No">https://playback-auth.api.brightcove.com</code></pre>

    <h3>Kontopfad</h3>
    <p>
      In allen Fällen werden Anfragen für ein bestimmtes Video Cloud-Konto gestellt. Sie fügen also immer den Begriff Konten gefolgt von Ihrer Konto-ID zur Basis-URL hinzu:
    </p>
    <pre><code class="language-http" translate="No">https://playback-auth.api.brightcove.com/v1/accounts/{accountID}/blacklist
</code></pre>

    <h3>Genehmigung</h3>
    <p>
      Ein Zugriffstoken für Anfragen ist erforderlich und muss im Authorization-Header vorhanden sein:
    </p>
    <pre><code class="language-http" translate="No">Authorization:  Bearer  {access_token}</code></pre>
    <p>
      Das Zugriffstoken ist ein temporäres OAuth2-Zugriffstoken, das vom Brightcove OAuth-Dienst abgerufen werden muss. Ausführliche Informationen zum Abrufen von Client-Anmeldeinformationen und deren Verwendung zum Abrufen von Zugriffstoken finden Sie im <a href="/oauth/getting-started/overview-oauth-api-v4.html">Übersicht über Brightcove OAuth</a>.
    </p>

    <h3>Berechtigungen</h3>
    <p>
      Anfragen an die Blacklist API müssen gestellt werden von <a href="/oauth/index.html">Kundenanmeldeinformationen</a> mit folgenden Berechtigungen:
    </p>
    <ul>
      <li>
        <code translate="No">video-cloud/playback-auth/blacklist</code>
      </li>
    </ul>

    <h3>Token auf der schwarzen Liste verwalten</h3>
    <p>
      Es kann bis zu einer Minute dauern, bis Aktualisierungen der Blacklist über das System verbreitet werden. Die Blacklist-API unterstützt die folgenden Anfragen:
    </p>

    <h4>Fügen Sie der Blacklist ein Token hinzu:</h4>
    <pre><code class="language-http" translate="No">PUT  (no  req  body)/v1/accounts/{accountID}/blacklist/tokens/{token}
</code></pre>
    <p>
      Der gesamte codierte JWT-String ist im Pfad enthalten.
    </p>

    <h4>Aktuelle Blacklist anzeigen:</h4>
    <pre><code class="language-http" translate="No">GET  /v1/accounts/{accountId}/blacklist
</code></pre>
    <br />

    <h4>Prüfen Sie, ob ein Token auf der Blacklist steht:</h4>
    <pre><code class="language-http" translate="No">GET  /v1/accounts/{accountID}/blacklist/tokens/{token}
</code></pre>
    <p>
      Der gesamte codierte JWT-String ist im Pfad enthalten.
    </p>
    <p>
      Antworten:
    </p>
    <ul>
      <li>
        204 - Der Token ist auf der schwarzen Liste
      </li>
      <li>
        404 - das Token ist nicht auf der schwarzen Liste
      </li>
    </ul>

    <h4>Entfernen eines Tokens aus der Blacklist:</h4>
    <pre><code class="language-http" translate="No">DELETE  /v1/accounts/{accountID}/blacklist/tokens/{token}
</code></pre>
    <p>
      Der gesamte codierte JWT-String ist im Pfad enthalten.
    </p>
  </section>

  <section class="bcls-section">
    <h2 id="Audit_an_account">Ein Konto prüfen</h2>

    <p>
      Mit der Audit-API können Sie einen täglichen Zugriffsbericht für die Nutzung des Playback Authorization Service Ihres Kontos erstellen. Dieser Bericht enthält Details zusammen mit der Autorisierungsantwort für jede Sitzung.
    </p>

    <h3>Audit-API</h3>
    <p>
      Hier sind die Details für die Audit-API:
    </p>

    <h3>Basis-URL</h3>
    <p>
      Die Basis-URL für die Audit-API lautet:
    </p>
    <pre><code class="language-http" translate="No">https://playback-auth.api.brightcove.com
</code></pre>

    <h3>Kontopfad</h3>
    <p>
      In allen Fällen werden Anfragen für ein bestimmtes Video Cloud-Konto gestellt. Sie fügen also immer den Begriff Konten gefolgt von Ihrer Konto-ID zur Basis-URL hinzu:
    </p>
    <pre><code class="language-http" translate="No">https://playback-auth.api.brightcove.com/v1/audit/accounts/{accountID}
</code></pre>

    <h3>Genehmigung</h3>
    <p>
      Ein Zugriffstoken für Anfragen ist erforderlich und muss im Authorization-Header vorhanden sein:
    </p>
    <pre><code class="language-http" translate="No">Authorization:  Bearer  {access_token}
</code></pre>
    <p>
      Das Zugriffstoken ist ein temporäres OAuth2-Zugriffstoken, das vom Brightcove OAuth-Dienst abgerufen werden muss. Ausführliche Informationen zum Abrufen von Client-Anmeldeinformationen und deren Verwendung zum Abrufen von Zugriffstoken finden Sie im <a href="/oauth/getting-started/overview-oauth-api-v4.html">Übersicht über Brightcove OAuth</a>.
    </p>

    <h3>Berechtigungen</h3>
    <p>
      Anfragen an die Audit API müssen gestellt werden von <a href="/oauth/index.html">Kundenanmeldeinformationen</a> mit folgenden Berechtigungen:
    </p>
    <ul>
      <li>
        <code translate="No">video-cloud/playback-auth/audit</code>
      </li>
    </ul>

    <h3>Berichte erstellen</h3>
    <p>
      Verwenden Sie die Audit-API, um einen täglichen Zugriffsbericht mit Sitzungsdetails zu erstellen, indem Sie die folgenden Schritte ausführen:
    </p>
    <aside class="bcls-aside  bcls-aside--information">
      <p>
        Anmerkungen:
      </p>
      <ul>
        <li>
          <p>
            Alle Autorisierungszugriffsprotokolle für Brightcove befinden sich in der UTC-Zeitzone. Denken Sie daran, Zeitzonen zu berücksichtigen, wenn Anfragen nicht in Ihrem Bericht erscheinen.
          </p>
        </li>
        <li>
          <p>
            Brightcove empfiehlt, Audit-API-Abfrageberichte 6 Stunden nach Mitternacht auszuführen, damit die Verarbeitung aus allen Regionen für alle Autorisierungsdaten vom Vortag abgeschlossen ist. Audit-API-Aufrufe für ein bestimmtes Konto und einen bestimmten Tag werden auf der API-Seite zwischengespeichert. Wenn Sie einen Bericht vor der vorgeschlagenen Mitternacht + 6 Stunden erstellen, stellen Sie möglicherweise fest, dass Ihr Bericht falsch oder unvollständig ist.
          </p>
        </li>
      </ul>
    </aside>

    <ol class="bcls-tasklist__restart">
      <li>
        <p>
          Fordern Sie einen täglichen Nutzungsbericht an
        </p>

        <h4>Parameter</h4>
        <table class="bcls-table">
          <thead class="bcls-table__head">
            <tr>
              <th>Gebiet</th>
              <th>Typ</th>
              <th>Beschreibung</th>
            </tr>
          </thead>
          <tbody class="bcls-table__body">
            <tr>
              <td><code translate="No">accountID</code></td>
              <td>Zeichenfolge</td>
              <td>Ihre Video Cloud-Konto-ID</td>
            </tr>
            <tr>
              <td><code translate="No">date</code></td>
              <td>Zeichenfolge</td>
              <td>
                Validierungen:
                <ul>
                  <li>
                    Format JJJJ-MM-TT
                  </li>
                  <li>
                    Datum darf nicht heute (UTC-Zeit) sein
                  </li>
                  <li>
                    Datum darf nicht länger als 30 Tage in der Vergangenheit liegen
                  </li>
                  <li>
                    Brightcove behält die Nutzungsberichte des Autorisierungsdienstes nach 30 Tagen nicht bei, um die Einhaltung der DSGVO zu gewährleisten
                  </li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>

        <h4>Anfrage</h4>
        <table class="bcls-table">
          <tbody class="bcls-table__body">
            <tr>
              <th>Methode</th>
              <td>POST</td>
            </tr>
            <tr>
              <th>URL</th>
              <td>
                https://playback-auth.api.brightcove.com/v1/audit/accounts/<span class="bcls-input">{accountID}</span>/Anfrage/<span class="bcls-input">{date}</span>
              </td>
            </tr>
            <tr>
              <th rowspan="2">Überschriften</th>
              <td>
                Genehmigung: Träger <span class="bcls-input">Ihr Zugangstoken</span>
              </td>
            </tr>
            <tr>
              <td>Inhaltstyp: application/json</td>
            </tr>
          </tbody>
        </table>

        <h4>Antwort</h4>
        <p>Beispielantwort (200 OK):</p>

        <pre class="line-numbers">
<code class="language-json" translate="No">{
	&quot;executionID&quot;:  &quot;abcdef-asfdag-dvsbcd&quot;
}</code></pre>

        <p>
          Einzelheiten:
        </p>
        <table class="bcls-table">
          <thead class="bcls-table__head">
            <tr>
              <th>Gebiet</th>
              <th>Typ</th>
              <th>Beschreibung</th>
            </tr>
          </thead>
          <tbody class="bcls-table__body">
            <tr>
              <td><code translate="No">executionID</code></td>
              <td>Zeichenfolge</td>
              <td>
                Eine eindeutige ID, die einem Nutzungsbericht für ein bestimmtes . zugeordnet ist <code translate="No">accountID</code> und <code translate="No">date</code>. Diese ID wird an die anderen Endpunkte unten weitergegeben.
              </td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>
        <p>
          Überprüfen Sie den Status Ihres Berichts
        </p>

        <h4>Anfrage</h4>
        <table class="bcls-table">
          <tbody class="bcls-table__body">
            <tr>
              <th>Methode</th>
              <td>WERDEN</td>
            </tr>
            <tr>
              <th>URL</th>
              <td>
                https://playback-auth.api.brightcove.com/v1/audit/accounts/<span class="bcls-input">{accountID}</span>/Hinrichtung/<span class="bcls-input">{executionID}</span>/Status
              </td>
            </tr>
            <tr>
              <th rowspan="2">Überschriften</th>
              <td>
                Genehmigung: Träger <span class="bcls-input">Ihr Zugangstoken</span>
              </td>
            </tr>
            <tr>
              <td>Inhaltstyp: application/json</td>
            </tr>
          </tbody>
        </table>

        <h4>Antwort</h4>
        <p>Beispielantwort (200 OK):</p>

        <pre class="line-numbers">
<code class="language-json" translate="No">{
	&quot;status&quot;:  &quot;completed&quot;
}
</code></pre>

        <p>
          Einzelheiten:
        </p>
        <table class="bcls-table">
          <thead class="bcls-table__head">
            <tr>
              <th>Gebiet</th>
              <th>Typ</th>
              <th>Beschreibung</th>
            </tr>
          </thead>
          <tbody class="bcls-table__body">
            <tr>
              <td><code translate="No">status</code></td>
              <td>Zeichenfolge</td>
              <td>Werte: "abgeschlossen", "Verarbeitung", "fehlgeschlagen"</td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>
        <p>
          Rufen Sie Ihren Bericht ab
        </p>
        <h4>Anfrage</h4>
        <table class="bcls-table">
          <tbody class="bcls-table__body">
            <tr>
              <th>Methode</th>
              <td>WERDEN</td>
            </tr>
            <tr>
              <th>URL</th>
              <td>
                https://playback-auth.api.brightcove.com/v1/audit/accounts/<span class="bcls-input">{accountID}</span>/Hinrichtung/<span class="bcls-input">{executionID}</span>/Prüfbericht
              </td>
            </tr>
            <tr>
              <th rowspan="2">Überschriften</th>
              <td>
                Genehmigung: Träger <span class="bcls-input">Ihr Zugangstoken</span>
              </td>
            </tr>
            <tr>
              <td>Inhaltstyp: application/json</td>
            </tr>
          </tbody>
        </table>

        <h4>Antwort</h4>
        <p>Beispielantwort (200 OK):</p>

        <pre class="line-numbers">
<code class="language-json" translate="No">{
    &quot;signedURL&quot;:  &quot;http://signed-url&quot;,
    &quot;expirationTime&quot;:  1569219842
}
</code></pre>

        <p>
          Einzelheiten:
        </p>
        <table class="bcls-table">
          <thead class="bcls-table__head">
            <tr>
              <th>Gebiet</th>
              <th>Typ</th>
              <th>Beschreibung</th>
            </tr>
          </thead>
          <tbody class="bcls-table__body">
            <tr>
              <td><code translate="No">SignedURL</code></td>
              <td>Zeichenfolge</td>
              <td>
                Die Ergebnisse werden als S3-URL zurückgegeben, die Sie herunterladen können
              </td>
            </tr>
            <tr>
              <td><code translate="No">expirationTime</code></td>
              <td>Epochenzeitstempel</td>
              <td>Signierte S3-URLs sind 15 Minuten lang gültig</td>
            </tr>
          </tbody>
        </table>
      </li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Limitations">Einschränkungen</h2>

    <p>
      Die folgenden Einschränkungen gelten mit der ersten Version dieser Funktion:
    </p>
    <ul>
      <li>
        Es gibt ein Limit von 100 Token auf der schwarzen Liste. Danach wird ein Fehler ausgegeben.
      </li>
    </ul>
  </section>

</article>