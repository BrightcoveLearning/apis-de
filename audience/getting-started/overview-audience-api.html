---
title: 'Überblick: Zielgruppen-API'
description: 'In diesem Thema erfahren Sie mehr über die Audience API. Mit der Zielgruppen-API können Sie Daten zu Anzeigeereignissen und Leads abrufen.'
parent: Getting Started 
grandparent: Audience API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="api-reference">API-Referenz</h2>
    <p>Siehe auch die <a href="/audience/references/reference.html">API-Referenz</a>.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Base_URL">Basis-URL</h2>
    <p>Die Basis-URL für die Audience API lautet:</p>
    <pre class="line-numbers">
<code class="language-http" translate="No">https://audience.api.brightcove.com/v1</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="Account_path">Kontopfad</h2>
    <p>In allen Fällen werden Anfragen für ein bestimmtes Video Cloud-Konto gestellt. Sie müssen der Basis-URL immer den Begriff „Konten“ gefolgt von Ihrer Konto-ID hinzufügen:</p>
    <pre class="line-numbers">
<code class="language-http" translate="No">https://audience.api.brightcove.com/v1/accounts/<span class="bcls-input">{account_id}</span> </code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="Authentication">Authentifizierung</h2>
    <p>Die Zielgruppen-API verwendet die Brightcove <a href="/oauth/getting-started/overview-oauth-api-v4.html">OAuth-Dienst</a> Anrufe zu authentifizieren.</p>
    <p>Sie müssen zuerst die Kundenanmeldeinformationen abrufen (a <code translate="No">client_id</code> und <code translate="No">client_secret</code>). Dies ist ein einmaliger Vorgang, der mit dem <a href="https://studio.support.brightcove.com/admin/managing-api-authentication-credentials.html">Benutzeroberfläche für OAuth-Anmeldeinformationen</a>. Sie benötigen Berechtigungen für Zielgruppen-/Lesevorgänge:</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="Required Permissions" src="/assets/images/audience/operations.png" />
      <figcaption class="bcls-caption--image">Erforderliche Berechtigungen</figcaption>
    </figure>
    <p>Sie können Client-Anmeldeinformationen direkt vom Brightcove OAuth-Dienst abrufen, indem Sie <a href="/oauth/guides/oauth-create-client-credentials-using-curl.html">cURL</a> oder <a href="/oauth/guides/oauth-create-client-credentials-using-postman.html">Postbote</a>.</p>
    <p>Sie benötigen auch eine <code translate="No">access_token</code> , die mit dem erhalten wird <code translate="No">client_id</code> und <code translate="No">client_secret</code> und in einem Authorization-Header mit Ihrer API-Anfrage übergeben:</p>
    <pre class="line-numbers">
<code class="language-http" translate="No">Authorization: Bearer <em>{access_token}</em></code></pre>
    <p>Die <code translate="No">access_token</code> läuft nach fünf Minuten ab. Sie müssen also für jede Anfrage einen anfordern oder überprüfen, ob Ihr Token noch gültig ist. Sehen <a href="/oauth/guides/getting-access-tokens.html">Zugriffstoken erhalten</a> für eine detaillierte Erläuterung zum Abrufen von Zugriffstoken, einschließlich Codebeispielen.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Error_handling">Fehlerbehandlung</h2>
    <p>Tritt ein Fehler auf, antwortet die API mit einem der folgenden Statuscodes und einem entsprechenden Fehlercode im Antworttext:</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Statuscode</th>
          <th>Fehlercode</th>
          <th>Beschreibung</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>400</td>
          <td><code translate="No">BAD_REQUEST_ERROR</code></td>
          <td>Abfrageparameter sind ungültig</td>
        </tr>
        <tr>
          <td>401</td>
          <td><code translate="No">UNAUTHORIZED_ERROR</code></td>
          <td>Das Zugriffstoken ist entweder nicht vorhanden, abgelaufen oder ungültig</td>
        </tr>
        <tr>
          <td>404</td>
          <td><code translate="No">RESOURCE_NOT_FOUND</code></td>
          <td>Die URL existiert nicht</td>
        </tr>
        <tr>
          <td>429</td>
          <td><code translate="No">REQUEST_THROTTLED_ERROR</code></td>
          <td>Der Benutzer hat die Richtlinie zur Ratenbegrenzung überschritten</td>
        </tr>
        <tr>
          <td>500</td>
          <td><code translate="No">INTERNAL_ERROR</code></td>
          <td>Ein interner Fehler ist aufgetreten</td>
        </tr>
        <tr>
          <td>504</td>
          <td><code translate="No">GATEWAY_TIMEOUT_ERROR</code></td>
          <td>Der Server hat eine Zeitüberschreitung beim Erfüllen Ihrer Anfrage</td>
        </tr>
      </tbody>
    </table>
    <p>Unten sehen Sie ein Beispiel für einen Antworttext für einen Fehler:</p>
    <pre class="line-numbers">
<code class="language-json" translate="No">[
	{
	"error_code": "UNAUTHORIZED_ERROR",
	"message": "Permission denied"
	}
]</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="Parameters">Parameter</h2>
    <p>Es gibt mehrere Parameter, die Sie zu Anfragen hinzufügen können, um die abgerufenen Daten einzuschränken und zu filtern. Diese gelten für alle in den folgenden Abschnitten beschriebenen Anforderungstypen.</p>
    <h3 id="Filtering_results">Ergebnisse filtern</h3>
    <p>Sie können die Ergebnisse mit der filtern <code translate="No">where</code> Parameter. Die Syntax für Filter lautet:</p>
    <pre class="line-numbers">
<code class="language-http" translate="No">where=field1==value1;field2==value2</code></pre>
    <p>Zum Beispiel:</p>
    <pre class="line-numbers">
<code class="language-http" translate="No">where=video_id==123456789;video_name==test</code></pre>
    <p>Kommas werden als logisches ODERs und Semikolons als logisches UNDs behandelt. Zum Beispiel, <code translate="No">where=video_id==1234,5678;video_name=test</code> wird interpretiert als "wo video_id = 1234 ODER 5678, AND video_name = test".</p>
    <h3>Auswählen von Feldern, die zurückgegeben werden sollen</h3>
    <p>In der Anforderung kann eine Liste von Feldern angegeben werden, um die Ergebnisse auf diese Teilmenge von Feldern zu beschränken. Die Syntax für Felder lautet:</p>
    <pre class="line-numbers">
<code class="language-http" translate="No">fields=field1,field4</code></pre>
    <p>Zum Beispiel:</p>
    <pre class="line-numbers">
<code class="language-http" translate="No">fields=video_id,video_name</code></pre>
    <p>Die Felder, nach denen Sie filtern und sortieren können, werden in den folgenden Abschnitten für jeden Anforderungstyp detailliert beschrieben.</p>
    <h3 id="Date_ranges">Datumsbereiche</h3>
    <p>Datumsbereiche können angegeben werden in <code translate="No">from</code> und <code translate="No">to</code> Parameter und werden auf das Datum angewendet, an dem das Ansichtsereignis zuletzt aktualisiert wurde (das Feld "updated_at"). Datumsbereiche können in den folgenden Formaten angegeben werden:</p>
    <ul>
      <li>Der Textwert <code translate="No">now</code> was die aktuelle Uhrzeit darstellt</li>
      <li>Epochenzeitwerte in Millisekunden, wie z <code translate="No">1377047323000</code></li>
      <li>Datumsangaben im internationalen Datumsformat ISO 8601: <code translate="No">YYYY-MM-DD</code> Format, wie z <code translate="No">2013-09-12</code>. Für in diesem Format ausgedrückte Daten:
        <ul>
          <li>Jeder angegebene Datumsbereich wird in UTC interpretiert</li>
          <li>Die Uhrzeit für das Datum wird als Mitternacht interpretiert ( <code translate="No">00:00:00</code> ) am angegebenen Datum</li>
        </ul>
      </li>
      <li>Relative Daten: Sie können eines der beiden ausdrücken <code translate="No">to</code> und <code translate="No">from</code> Werte relativ zum anderen in <code translate="No">d</code> (Tage), <code translate="No">h</code> (Std), <code translate="No">m</code> (Minuten), oder <code translate="No">s</code> (Sek.). Zum Beispiel:
        <ul>
          <li><code class="language-http" translate="No">from=2015-01-01&amp;to=31d</code></li>
          <li><code class="language-http" translate="No">from=-48h&amp;to=now</code></li>
          <li><code class="language-http" translate="No">from=-2d&amp;to=now</code>(gibt die gleichen Ergebnisse wie das vorherige Beispiel)</li>
          <li><code class="language-http" translate="No">from=-365d&amp;to=2015-12-31</code></li>
          <li><code class="language-http" translate="No">from=-10m&amp;to=now</code></li>
        </ul>
      </li>
    </ul>
    <h3 id="Paging_results">Paging-Ergebnisse</h3>
    <p>Die <code translate="No">limit</code> ist die Anzahl der zurückzugebenden Elemente (Standard: 25; Maximum: 200). <code translate="No">offset</code> ist die Anzahl der zu überspringenden Elemente (Standard: 0). Sie können verwenden <code translate="No">limit</code> und <code translate="No">offset</code> zusammen, um eine App zu erstellen, die die Ergebnisse durchblättert. Jedes beinhaltet die <code translate="No">limit</code> , <code translate="No">offset</code> , und <code translate="No">count.</code> , mit dem Sie eine Iteration über die Gesamtergebnisse einrichten können. In JavaScript können Sie beispielsweise die gesamten erforderlichen Iterationen wie folgt abrufen:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">// response is the JSON-parsed response from the first request
var totalRequests = Math.ceil(response.count / response.limit)</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="Retrieving_view_events">Abrufen von Ansichtsereignissen</h2>
    <p>Führen Sie zum Abrufen von Ansichtsereignissen in einem Konto Folgendes aus: <code translate="No">GET</code> Anfrage an die Ressource view_events:</p>
    <pre class="line-numbers">
<code class="language-http" translate="No">https://audience.api.brightcove.com/v1/accounts/{account_id}/view_events</code></pre>
    <aside class="bcls-aside bcls-aside--warning">Nur Ereignisse anzeigen, die stattgefunden haben <em>verarbeitet</em> wird in der Antwort angezeigt.</aside>
    <p>Hier ist eine Beispielanfrage in cURL</p>
    <pre class="line-numbers">
<code class="language-bash" translate="No">curl -i https://audience.api.brightcove.com/v1/accounts/{account_id}/view_events?where=video_id==123&amp;from=-5d&amp;to=now&amp;sort=-created_at \
  -H "Authorization: Bearer {token}"</code></pre>

    <details>
			<summary>Beispielantwort</summary>
<pre class="line-numbers">
<code class="language-json" translate="No">{
"count": 27,
"limit": 25,
"offset": 0,
"result": [
		{
				"created_at": "2016-04-25T18:30:21.651Z",
				"page_url": "http://players.brightcove.net/1486906377/V1s6NOwRx_default/index.html?videoId=4842718056001",
				"player_id": "V1s6NOwRx",
				"time_watched": 2,
				"updated_at": "2016-04-25T18:30:21.651Z",
				"video_id": "4842718056001",
				"video_name": "Horses Heading to the Track",
				"watched": 19
		},
		{
				"created_at": "2016-04-25T18:31:55.071Z",
				"page_url": "http://players.brightcove.net/1486906377/BkgFuzyhg_default/index.html?videoId=4842718056001",
				"player_id": "BkgFuzyhg",
				"time_watched": 15,
				"updated_at": "2016-04-25T18:32:00.879Z",
				"video_id": "4842718056001",
				"video_name": "Horses Heading to the Track",
				"watched": 99
		}, ...
}
]</code></pre>
		</details>
    <h3 id="fieldsForViewEvents">Felder zum Filtern und Auswählen</h3>
    <p>All die <a href="#Parameters">Parameter</a> kann mit verwendet werden <code translate="No">view_event</code> Anfragen.</p>
    <p>Hier ist eine Beispielanfrage in cURL mit den Parametern:</p>
    <pre class="line-numbers">
<code class="language-bash" translate="No">curl -i https://audience.api.brightcove.com/v1/accounts/{account_id}/view_events?where=video_id==123&amp;from=-5d&amp;to=now&amp;sort=-created_at \
  -H "Authorization: Bearer {token}"</code></pre>
    <p>Die folgenden Felder werden unterstützt für <code translate="No">view_event</code> Anfragen beim Filtern mit a <code translate="No">where</code> -Klausel oder bei der Auswahl während a <code translate="No">fields</code> Klausel:</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Gebiet</th>
          <th>Beschreibung</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">video_id</code></td>
          <td>Brightcove-Video-ID</td>
        </tr>
        <tr>
          <td><code translate="No">video_name</code></td>
          <td>Brightcove-Videoname</td>
        </tr>
        <tr>
          <td><code translate="No">tracking_id</code></td>
          <td>Benutzerdefinierte Tracking-ID</td>
        </tr>
        <tr>
          <td><code translate="No">external_id</code></td>
          <td>Der Marketo, Eloqua oder die benutzerdefinierte GUID</td>
        </tr>
        <tr>
          <td><code translate="No">player_id</code></td>
          <td>Die ID des Brightcove-Players, der das Ansichtsereignis erstellt hat</td>
        </tr>
        <tr>
          <td><code translate="No">page_url</code></td>
          <td>Die URL der Seite, auf der das Ansichtsereignis erstellt wurde</td>
        </tr>
        <tr>
          <td><code translate="No">watched</code></td>
          <td>Prozent gesehen</td>
        </tr>
        <tr>
          <td><code translate="No">time_watched</code></td>
          <td>Sekunden des angeschauten Videos</td>
        </tr>
        <tr>
          <td><code translate="No">created_at</code></td>
          <td>Erstellungsdatum</td>
        </tr>
        <tr>
          <td><code translate="No">updated_at</code></td>
          <td>Datum der letzten Aktualisierung</td>
        </tr>
        <tr>
          <td><code translate="No">is_synced</code></td>
          <td>Ein boolescher Wert, der angibt, ob das Ansichtsereignis synchronisiert wurde oder nicht</td>
        </tr>
        <tr>
          <td><code translate="No">event_1</code></td>
          <td rowspan="3">Benutzerdefinierte Ereignisse</td>
        </tr>
        <tr>
          <td><code translate="No">event_2</code></td>
        </tr>
        <tr>
          <td><code translate="No">event_3</code></td>
        </tr>
        <tr>
          <td><code translate="No">metric_1</code></td>
          <td rowspan="3">Benutzerdefinierte Messwerte</td>
        </tr>
        <tr>
          <td><code translate="No">metric_2</code></td>
        </tr>
        <tr>
          <td><code translate="No">metric_3</code></td>
        </tr>
      </tbody>
    </table>
  </section>
  <section class="bcls-section">
    <h2 id="Retrieving_Leads">Abrufen von Leads</h2>
    <p>Führen Sie zum Abrufen von Ansichtsereignissen in einem Konto Folgendes aus: <code translate="No">GET</code> Anfrage an die <code translate="No">view_events</code> Ressource:</p>
    <pre class="line-numbers">
<code class="language-http" translate="No">https://audience.api.brightcove.com/v1/accounts/{account_id}/leads</code></pre>
    <details>
			<summary>Beispielantwort:</summary>
<pre class="line-numbers">
<code class="language-json" translate="No">{
"count": 2,
"limit": 25,
"offset": 0,
"result": [
		{
				"created_at": "2016-06-30T12:57:11.283Z",
				"email_address": "bbailey@brightcove.com",
				"first_name": "Bob",
				"last_name": "Bailey",
				"page_url": "http://players.brightcove.net/1486906377/Hk4TBqzL_default/index.html?videoId=4997275041001",
				"player_id": "Hk4TBqzL",
				"video_id": "4997275041001"
		},
		{
				"created_at": "2016-06-30T12:57:33.301Z",
				"email_address": "rcrooks@brightcove.com",
				"first_name": "Robert",
				"last_name": "Crooks",
				"page_url": "http://players.brightcove.net/1486906377/Hk4TBqzL_default/index.html?videoId=4997275041001",
				"player_id": "Hk4TBqzL",
				"video_id": "4997275041001"
		}
]
}</code></pre>
		</details>
    <h3 id="fieldsForLeads">Felder zum Filtern und Auswählen</h3>
    <p>All die <a href="#Parameters">Parameter</a> kann mit verwendet werden <code translate="No">leads</code> Anfragen.</p>
    <p>Hier ist eine Beispielanfrage in cURL mit den Parametern:</p>
    <pre class="line-numbers">
<code class="language-bash" translate="No">curl -i https://audience.api.brightcove.com/v1/accounts/{account_id}/leads?where=video_id==123&amp;from=-5d&amp;to=now&amp;sort=-created_at \
  -H "Authorization: Bearer {token}"</code></pre>
    <p>Die folgenden Felder werden unterstützt für <code translate="No">leads</code> Anfragen beim Filtern mit a <code translate="No">where</code> -Klausel oder bei der Auswahl während a <code translate="No">fields</code> Klausel:</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Gebiet</th>
          <th>Beschreibung</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">video_id</code></td>
          <td>Brightcove-Video-ID</td>
        </tr>
        <tr>
          <td><code translate="No">external_id</code></td>
          <td>Der Marketo, Eloqua oder die benutzerdefinierte GUID</td>
        </tr>
        <tr>
          <td><code translate="No">player_id</code></td>
          <td>Die ID des Brightcove-Players, der das Ansichtsereignis erstellt hat</td>
        </tr>
        <tr>
          <td><code translate="No">page_url</code></td>
          <td>Die URL der Seite, auf der das Ansichtsereignis erstellt wurde</td>
        </tr>
        <tr>
          <td><code translate="No">created_at</code></td>
          <td>Erstellungsdatum</td>
        </tr>
        <tr>
          <td><code translate="No">email_address</code></td>
          <td>Die E-Mail-Adresse des Leads</td>
        </tr>
        <tr>
          <td><code translate="No">first_name</code></td>
          <td>Der Vorname des Leads, falls angegeben</td>
        </tr>
        <tr>
          <td><code translate="No">last_name</code></td>
          <td>Der Nachname des Leads, falls angegeben</td>
        </tr>
        <tr>
          <td><code translate="No">business_phone</code></td>
          <td>Die Telefonnummer des Leads, falls angegeben</td>
        </tr>
        <tr>
          <td><code translate="No">country</code></td>
          <td>Das Land des Leads, falls angegeben</td>
        </tr>
        <tr>
          <td><code translate="No">company_name</code></td>
          <td>Das Unternehmen des Leads, falls angegeben</td>
        </tr>
        <tr>
          <td><code translate="No">industry</code></td>
          <td>Die Branche, zu der der Lead gehört, falls angegeben</td>
        </tr>
      </tbody>
    </table>
  </section>
</article>