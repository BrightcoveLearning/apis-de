---
title: 'Dynamic Delivery Ingest Priority Queuing'
description: 'In diesem Thema wird erläutert, wie Sie mithilfe der Prioritätseinstellung die Aufnahmezeit für Videos mit hoher Priorität optimieren.'
parent: 'Ingest Guides' 
grandparent: Dynamic Ingest API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="Introduction">Einführung</h2>
    
    <p>Dynamic Delivery Ingest verfügt jetzt über eine Funktion namens <strong>Prioritätswarteschlangen</strong> die es Publishern ermöglichen, Aufnahmejobs mit einer gewünschten Prioritätseinstellung an uns zu senden, um die Reihenfolge und Pünktlichkeit der Jobverarbeitung zu beeinflussen.</p>
    
    <aside>
    <p>Beachten Sie, dass Priority Queuing nur für Konten gilt, die für aktiviert sind <a href="/dynamic-ingest/getting-started/overview-dynamic-ingest-api-dynamic-delivery.html">Dynamische Lieferung</a>. Sie kann nicht in Konten verwendet werden, die das ältere Aufnahmesystem verwenden.</p>
    
    </aside>
    </section>
    
    <section class="bcls-section">
    <h2 id="how-dynamic-delivery-ingestion-currently-works">So funktioniert die Aufnahmewarteschlange für Dynamic Delivery</h2>
    
    <p>Bei einer Warteschlange mit normaler Priorität hat die dynamische Bereitstellungsaufnahme ein Limit von 100 aktiven Jobs pro Konto. Wenn dieses Limit überschritten wird, stellt das Aufnahmesystem zusätzliche Anforderungen zur späteren Verarbeitung in die Warteschlange. Die Größe der Warteschlange hat ein separates Limit, und wenn diese erreicht ist, wird die Aufnahmeanforderung an den Kunden zurückgewiesen (mit einem 429-Fehlercode). Wenn die Jobs beendet sind, wird Kapazität freigegeben und in der Warteschlange befindliche Jobs werden nacheinander in der Reihenfolge ihres Eingangs abgeholt und verarbeitet.</p>
    
    <p>Der Videostatus im <span translate="No">CMS-API</span> spiegelt nicht wider, dass der Job in die Warteschlange gestellt wurde - der Status ist <code translate="No">pending </code> ob der Job verarbeitet wird oder in die Warteschlange gestellt wird.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="How_Priority_Queueing_affects_ingestion">Wie sich Priority Queuing auf die Aufnahme auswirkt</h2>
    
    <p>Priority Queuing ermöglicht es dem Benutzer, eine <code translate="No">priority </code> Flag für eine Aufnahmeanforderung. Die zulässigen Werte für <code translate="No">priority </code> sind <code translate="No">low </code> und <code translate="No">normal </code>. Jeder andere Wert führt dazu, dass die Anfrage mit einem 422-Fehlercode abgelehnt wird. Wenn der Benutzer keine Priorität angibt, wird der Standardwert von <code translate="No">normal </code> wird genutzt. Hier ist eine kurze Beschreibung, wie Priority Queuing die Verarbeitung von Jobs aus der Warteschlange ändert:</p>
    
    <ol>
      <li>Wenn keine Jobs in der Warteschlange vorhanden sind und Kapazitäten zum Ausführen eines Jobs vorhanden sind, wird der Job sofort ausgeführt. Dies gilt sowohl für Jobs mit niedriger als auch für normale Priorität.</li>
      <li>Wenn keine Kapazität für die Ausführung eines anderen Jobs vorhanden ist, wird der Job in die Warteschlange gestellt.</li>
      <li>Wenn sich Jobs in der Warteschlange befinden, werden auch alle neuen Jobs in die Warteschlange gestellt. Dies bedeutet, dass ein neuer Job nicht vor Jobs in der Warteschlange gestartet werden kann.</li>
      <li>Wenn die Kapazität zum Ausführen eines anderen Jobs vorhanden ist und Jobs in der Warteschlange vorhanden sind, wird ein Job aus der Warteschlange genommen:
      <ul>
        <li>Wenn sich IRGENDEINE Jobs mit normaler Priorität in der Warteschlange befinden, wird der älteste Job mit normaler Priorität ausgewählt.</li>
        <li>Wenn sich KEINE Jobs mit normaler Priorität in der Warteschlange befinden, wird der älteste Job mit niedriger Priorität ausgewählt.</li>
      </ul>
      </li>
      <li>Jobs mit normaler und niedriger Priorität werden wie folgt behandelt <strong>gleich</strong> für wie viele laufende Jobs es geben kann. Die Gesamtzahl der verarbeiteten Jobs ist unabhängig von ihrer Priorität auf 100 pro Konto begrenzt.</li>
      <li>Es gibt <strong>trennen</strong> Kontingente dafür, wie viele Jobs mit normaler und niedriger Priorität in die Warteschlange gestellt werden können.</li>
    </ol>
    </section>
    
    <section class="bcls-section">
    <h2 id="What_to_watch_out_for">Worauf Sie achten sollten</h2>
    
    <h3>Wiedergabedetails wurden nach dem Senden eines Jobs geändert</h3>
    
    <p>Wenn Sie einen Dynamic Ingest-Job erstellen, wird das angegebene Ingest-Profil vom Dynamic Ingest-System kopiert, und dieses Profil <strong>Kopieren</strong> wird für die Verarbeitung verwendet, auch wenn das Profil seit dem Senden des Jobs geändert wurde.</p>
    
    <p>Bei Jobs mit niedriger Priorität, bei denen die Verarbeitung in einigen Fällen erheblich verzögert werden kann, <strong>die in diesem Profil angegebenen Wiedergaben können geändert werden</strong> bevor der Auftrag tatsächlich bearbeitet wird. In diesem Fall werden die Wiedergabeversionen, die zum Verarbeiten des Videos verwendet werden, die <strong>NEU</strong> Definition dieser Wiedergaben; nicht die Definition der Wiedergaben zum Zeitpunkt der Auftragsübergabe.</p>
    
    <p>Wenn du es wünschst <strong>Garantie</strong> du bekommst die wiedergaben <strong>wie sie bei der Auftragserteilung angegeben wurden</strong> , sollten Sie Kopien der Wiedergabeversionen erstellen und ein neues Profil erstellen, das auf diese kopierten Wiedergabeversionen verweist, und dann den Aufnahmeprozess starten. (Sie können das Video mit dem aktualisierten Profil erneut transcodieren, wenn das Video bereits in Video Cloud gespeichert wurde. Denken Sie daran, dass Sie das Video nicht erneut transkodieren können, bis die Verarbeitung für den ursprünglichen Job abgeschlossen ist.)</p>
    
    <h3>Quelldatei-Upload</h3>
    
    <p>Beim Hochladen der Quelldatei werden die Dateien in diesem S3-Bucket nach 24 Stunden gelöscht. Da Jobs mit niedriger Priorität in einigen Fällen möglicherweise nicht länger als 24 Stunden verarbeitet werden, wurden die Dateien möglicherweise bereits gelöscht und die Verarbeitung schlägt in diesem Fall fehl. <strong>Wir empfehlen keine Aufnahme mit niedriger Priorität für das Hochladen von Quelldateien</strong>.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="sample_request">Musteranfragen</h2>
    
    <p>Unten sehen Sie ein Beispiel für einen Aufnahmeanforderungstext mit niedriger Priorität:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
    "master": {
    "url": "http://host/master.mp4"
    },
    "profile": "multi-platform-extended-static",
    <span class="bcls-highlight">"priority": "low"</span>,
    "callbacks": [
    "http://mydomain.com/di-callbacks.php"
    ]
    }
    </code>
    </pre>
    
    <p>Und hier ist ein Beispiel für einen Job mit normaler Priorität:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
    "master": {
    "url": "http://host/master.mp4"
    },
    "profile": "multi-platform-extended-static",
    <span class="bcls-highlight">"priority": "normal"</span>,
    "callbacks": [
    "http://mydomain.com/di-callbacks.php"
    ]
    }
    </code>
    </pre>
    
    <p>Beachten Sie, dass seit <code translate="No">normal </code> der Standardwert ist, würde die vorherige Anfrage genauso verarbeitet werden wie die folgende:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
    "master": {
    "url": "http://host/master.mp4"
    },
    "profile": "multi-platform-extended-static",
    "callbacks": [
    "http://mydomain.com/di-callbacks.php"
    ]
    }
    </code>
    </pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="Using_the_priority_queue">Verwenden der Prioritätswarteschlange</h2>
    
    <p>Aus dem letzten Beispiel im vorherigen Abschnitt sollte klar sein, dass wenn Sie dies tun <strong>nicht</strong> benutze die <code translate="No">priority </code> Feld in Ihren Aufnahmeaufträgen, werden diese weiterhin genauso verarbeitet wie bisher.</p>
    
    <p>Die Hinzufügung der <code translate="No">priority </code> Bereich profitieren Sie vor allem, wenn:</p>
    
    <ol>
      <li>Du nimmst eine ziemlich große Anzahl von Videos auf</li>
      <li>Es ist wichtig zu bekommen <em>etwas</em> Ihrer Videos so schnell wie möglich online stellen, während es keine Dringlichkeit gibt, andere zu veröffentlichen (weil der Inhalt weniger wichtig ist oder Sie die Videos sowieso nicht sofort veröffentlichen möchten)</li>
      <li>Sie haben Videos, die Sie neu transkodieren möchten, aber Sie möchten nicht, dass dies die Aufnahme neuer Inhalte verlangsamt</li>
    </ol>
    </section>
    
    <section class="bcls-section">
    <h2 id="How_low_priority_queue_works">So funktioniert die Warteschlange mit niedriger Priorität</h2>
    
    <p>In diesem Abschnitt wird erläutert, wie die Warteschlange mit niedriger Priorität funktioniert.</p>
    
    <p>Es gibt keine Garantie, wann Jobs mit normaler oder niedriger Priorität gestartet werden. Jobs mit normaler Priorität werden jedoch immer vor Jobs mit niedriger Priorität gestartet.</p>
    
    <p>Wenn Sie eine konstant hohe Rate an Aufträgen mit normaler Priorität senden, kann es einige Zeit dauern, bis Aufträge mit niedriger Priorität gestartet werden.</p>
    
    <p>Der Start und die Verarbeitung von Jobs mit niedriger Priorität kann länger dauern als für das gleiche Video mit normaler Priorität.</p>
    </section>
    </article>
 