---
title: 'Dynamische Aufnahme mit Medienfreigabe'
description: 'Um mit Dynamic Ingest erstellte Videos zu teilen, <span translate="No">CMS-API</span> wird genutzt. Für das Freigabekonto muss die Medienfreigabe aktiviert sein. Wenden Sie sich an den Brightcove-Support, um dies zu überprüfen. Das Video teilen <span translate="No">CMS-API</span> Anfrage gestellt werden, bevor die Transcodierung abgeschlossen ist.'
parent: Ingest Guides 
grandparent: Dynamic Ingest API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="introduction">Einführung</h2>
    
    <p>Der Abschnitt „Dynamische Aufnahme“ dieses Handbuchs unterscheidet sich nicht von dem in anderen Dokumenten und Beispielen beschriebenen Prozess, und die Aufnahme des Videos mithilfe des Upload-Moduls in Studio kann ebenfalls verwendet werden. Der Vollständigkeit halber jedoch <a href="https://general.support.brightcove.com/developer/concepts-set-curl.html">Locken</a> Beispiele für alle drei Schritte sind hier angegeben:</p>
    
    <ol>
      <li><a href="#Create_video">Video erstellen</a></li>
      <li><a href="#Create_the_ingest_request">Aufnahmeanfrage erstellen</a></li>
      <li><a href="#Share_video_with_CMS_API">Teilen Sie Videos mit der CMS-API</a></li>
    </ol>
    </section>
    
    <section class="bcls-section">
    <h2 id="Authentication">Authentifizierung</h2>
    
    <p>Alle in diesem Thema beschriebenen Anforderungen erfordern eine Authentifizierung über die <a href="/oauth/index.html">Brightcove OAuth-System</a>.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="Create_video">Video erstellen</h2>
    
    <p>Das Videoobjekt im Video Cloud-System wird mit dem <a href="/cms/references/reference.html#api-videoGroup-Create_Video">CMS-API</a>. Hier ist ein Curl-Beispiel:</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
      --url https://ingest.api.brightcove.com/v1/accounts/<span class="bcls-input">MASTER_ACCOUNT_ID</span>/videos \
      --header 'authorization: Bearer OAUTH_TOKEN' \
      --header 'content-type: application/json' \
      --data '{"name": "Video to be shared"}'</code></pre>
    
    <p>Die zurückgegebene JSON enthält die neue Video-ID:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "id": "VIDEO_ID",
      "account_id": "ACCOUNT_ID",
      ...
    }</code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="Create_the_ingest_request">Aufnahmeanfrage erstellen</h2>
    
    <p>Das Video kann dann mit dem aufgenommen werden <a href="/dynamic-ingest/references/reference.html#api-Ingest-Ingest_Media_Asset">Dynamische Aufnahme-API</a> mit der vom zurückgegebenen Video-ID <span translate="No">CMS-API</span> Anfrage. Hier ist ein curl-Beispiel für die Anfrage:</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
      --url https://ingest.api.brightcove.com/v1/accounts/<span class="bcls-input">MASTER_ACCOUNT_ID</span>/videos/<span class="bcls-input">VIDEO_ID</span>/ingest-requests \
      --header 'authorization: Bearer <span class="bcls-input">OAUTH_TOKEN</span>' \
      --header 'content-type: application/json' \
      --data '{"master": {"url": "http://example.com/video.mp4"}}'</code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="Share_video_with_CMS_API">Teilen Sie Videos mit der CMS-API</h2>
    
    <p>Sobald das Video aufgenommen wurde, können Sie es mit einem anderen Konto teilen <a href="/cms/code-samples/cms-api-sample-share-multiple-videos.html">CMS-API</a>.</p>
    
    <p>Beachten Sie, dass Sie zuerst die Freigabebeziehung einrichten müssen, bevor Sie ein Video mit einem anderen Konto teilen können - siehe <a href="/cms/managing-videos/media-sharing-cms-api.html">Medienfreigabe mit der CMS-API</a> für mehr Details.</p>
    
    <p>Hier ist ein curl-Beispiel für die Anfrage:</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
    --url 'https://cms.api.brightcove.com/v1/accounts/<span class="bcls-input">MASTER_ACCOUNT_ID</span>/videos/<span class="bcls-input">VIDEO_ID</span>/shares?=' \
    --header 'authorization: Bearer <span class="bcls-input">ACCESS_TOKEN</span>' \
    --header 'content-type: application/json' \
    --data '[
      {
        "id":"<span class="bcls-input">AFFILIATE_ACCOUNT_ID</span>"
      }
    ]'</code></pre>
    
    <p>Die Antwort enthält die ID des neuen Videos im Sharee-Konto:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">[ {
      "video_id" : "5555086013001",
      "affiliate_id" : "1752604059001",
      "affiliate_video_id" : null,
      "status" : "PROCESSING",
      "shared_at" : "2017-09-01T12:04:39.911Z",
      "updated_at" : "2017-09-01T12:04:39.911Z"
    } ]</code></pre>
    </section>
    </article>
 