---
title: 'Schnellstart: Verwenden von RTMP-Ausgängen für Live-Events'
description: 'In diesem Tutorial erfahren Sie, wie Sie RTMP-Ausgaben erstellen, um Live-Events auf YouTube Live und Facebook Live einzurichten.'
parent: Code Samples 
grandparent: Live API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
<section class="bcls-section">
<h2 id="Overview">Überblick</h2>

<figure class="bcls-figure"><img alt="general-block-diagram" title="Block diagram" src="/assets/images/live-api/18697/block-diagram-small.png" />
<figcaption class="bcls-caption--image">Blockschaltbild</figcaption>
</figure>

<p>In diesem Tutorial wird auf API-Ebene erklärt, wie Sie einen Live-Streaming-Job in . erstellen <a href="/">Brightcove live</a> und dann erstellen <a href="https://en.wikipedia.org/wiki/Real-Time_Messaging_Protocol">RTMP</a> ausgeben und erneut auf YouTube Live und Facebook Live streamen.</p>

<aside class="BCL-bcls-aside bcls-aside--information">Anmerkungen:
<ul>
	<li>Informationen zur Verwendung von RTMP-Ausgängen im Live-Modul finden Sie unter <a href="https://live.support.brightcove.com/live-module/using-live-rtmp-outputs-stream-facebook-and-youtube.html">Verwenden von Live-RTMP-Ausgaben zum Streamen auf Facebook und YouTube</a>.</li>
  <li>RTMP-Ausgänge <strong>tut</strong> Unterstützung <code translate="No">rtmps</code> URLs - sollten Sie verwenden <code translate="No">rtmps</code> wenn die soziale Plattform dies unterstützt.</li>
  <li>Beachten Sie, dass Facebook die Unterstützung für eingestellt hat <code translate="No">rtmp</code>.streams ab 1. Mai 2019, für Facebook, Sie <strong>MUSS</strong> verwenden <code translate="No">RTMPS</code>.</li>
  <li>Die <strong>nur aktuelles Format für RTMP-URLs unterstützt</strong> ist <code translate="No">rtmps://host:port/application/streamName</code>.</li>
</ul>
</aside>

<p>Dieses Tutorial verwendet <a translate="No" href="https://general.support.brightcove.com/developer/concepts-set-curl.html">Locken</a> um die API-Anfragen zu stellen, aber Sie können sie ganz einfach eingeben <a translate="No" href="https://apis.support.brightcove.com/general/use-insomnia-api-requests.html">Schlaflosigkeit</a> , <a translate="No" href="https://apis.support.brightcove.com/general/use-postman-api-requests.html">Postbote</a> oder andere REST-Clients stattdessen.</p>
</section>

<section class="bcls-section">
<h2 id="create_a_live_job">Erstellen Sie einen Live-Job</h2>

<p>Zuerst erstellen wir einen Live-Job. Sie benötigen eine <code translate="No">API-KEY</code> für die Live-API. Wenn Sie dies nicht tun und daran interessiert sind, Zugang zu erhalten, wenden Sie sich bitte an Ihren Account Manager.</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>Kopieren Sie Folgendes und fügen Sie es ein <span translate="No">Locken</span> Befehl in einen Texteditor:</p>

	<pre class="line-numbers">
<code class="language-bash" translate="No">curl -X POST \
  https://api.bcovlive.io/v1/jobs \
  -H 'Content-Type: application/json' \
  -H 'x-api-key: {{bcov-live-api-key}}' \
  -d '{
    "live_stream": true,
    "region": "{{closest-region-encoder}}",
    "outputs": [{
      "label": "hls360p",
      "live_stream": true,
      "height": 360,
      "video_bitrate": 365,
      "segment_seconds": 6,
      "keyframe_interval": 60
    },
    {
      "label": "hls432p",
      "live_stream": true,
      "height": 432,
      "video_bitrate": 730,
      "segment_seconds": 6,
      "keyframe_interval": 60
    },
    {
      "label": "hls540p",
      "live_stream": true,
      "height": 540,
      "video_bitrate": 2000,
      "segment_seconds": 6,
      "keyframe_interval": 60
    },
    {
      "label": "hls720p3M",
      "live_stream": true,
      "height": 540,
      "video_bitrate": 2000,
      "segment_seconds": 6,
      "keyframe_interval": 60
    },
    {
      "label": "hls720p4.5M",
      "live_stream": true,
      "height": 540,
      "video_bitrate": 4500,
      "segment_seconds": 6,
      "keyframe_interval": 60
    }]
  }'
</code></pre>
	</li>
	<li>
	<p><strong>Ersetzen:</strong></p>

	<ul>
		<li><code translate="No">{{closest-region-encoder}}</code> mit der nächstgelegenen verfügbaren Region zu Ihrem Encoder, siehe <a href="/live-api/getting-started/overview-brightcove-live-api.html#Support_aws_regions">nächstgelegene verfügbare Regionen</a> zu Ihrem Encoder. Zum Beispiel: <code translate="No">us-west-2</code></li>
		<li><code translate="No">{{bcov-live-api-key}}</code> mit Ihrem Brightcove Live-API-Schlüssel. Zum Beispiel: <code translate="No">abcdfeg-this-is-a-fake-api-key-FgJajjasd12hJHsZ</code></li>
	</ul>
	</li>
	<li>Nachdem Sie diese Änderungen vorgenommen haben, kopieren Sie den Code und fügen Sie ihn in das Terminal oder eine beliebige Befehlszeilen-App ein, die Sie verwenden, und führen Sie ihn aus.</li>
	<li>
	<p>Die Antwort sollte ungefähr so lauten:</p>

	<pre class="line-numbers">
<code class="language-json" translate="No">{
    "id": "3b6871bf2f344acaa6b397d09b476018",
    "outputs": [... removed for simplicity ...],
    "stream_url": "rtmp://ep1-usw2.bcovlive.io:1935/3b6871bf2f344acaa6b397d09b476018",
    "stream_name": "alive",
    "static": false,
    "encryption": {},
    "playback_url": "https://bcovlive-a.akamaihd.net/3b6871bf2f344acaa6b397d09b476018/us-west-2/NA/playlist.m3u8",
    "playback_url_dvr": "https://bcovlive-a.akamaihd.net/3b6871bf2f344acaa6b397d09b476018/us-west-2/NA/playlist_dvr.m3u8"
}</code></pre>
	</li>
</ol>

<p>Mit diesen Jobs werden 5 Wiedergabeversionen erstellt <strong>basierend</strong> An <a href="https://developer.apple.com/documentation/http_live_streaming/hls_authoring_specification_for_apple_devices">Apple-Empfehlungen</a>.</p>
</section>

<section class="bcls-section">
<h2 id="Configure_your_encoder">Konfigurieren Sie Ihren Encoder</h2>

<p>Die hier gezeigten Schritte gehen davon aus, dass ein <a href="https://www.elemental.com/products/aws-elemental-live">Elementare Live-Box</a> Encoder, der beim Testen der Schritte für dieses Tutorial verwendet wurde. Wenn Sie einen anderen Encoder haben, sollten die Einstellungen ähnlich sein.</p>

<p>Die wichtigsten Einstellungen für diesen Fall sind:</p>

<ul>
	<li>Konfigurieren Sie die Timecode-Quelle als "Systemuhr"</li>
	<li>Setzen Sie "OnFi-Timecode-Frequenz" auf 1</li>
	<li>Überprüfen Sie "Timecode-Einfügung" im Video</li>
	<li>Wärmstens empfohlen: Bildrate = Quelle folgen</li>
</ul>

<p>Dies ist die Konfiguration, die wir für dieses Experiment verwendet haben:</p>

<figure class="bcls-figure"><img alt="elemental-live-job-config" title="Elemental live config" src="/assets/images/live-api/18697/elemental-live-job-config-v1-small.png" />
<figcaption class="bcls-caption--image">Elementare Live-Konfiguration</figcaption>
</figure>
</section>

<section class="bcls-section">
<h2 id="test_playback">Wiedergabe testen</h2>

<p>Das kannst du benutzen <a href="https://videojs.github.io/videojs-contrib-hls/">VideoJS HLS-Demoseite</a> Um die Wiedergabe zu testen, fügen Sie einfach den Wert ein <code translate="No">playback_url</code> in der Antwort des Erstellungsjobs zurückgegeben:</p>

<figure class="bcls-figure"><img alt="videojs-hls-playback" title="VideoJS HLS playback demo page" src="/assets/images/live-api/18697/videojs-hls-playback-small.png" />
<figcaption class="bcls-caption--image">VideoJS HLS-Wiedergabe-Demoseite</figcaption>
</figure>
</section>

<section class="bcls-section">
<h2 id="Youtube_live">Fügen Sie den Livestream zu YouTube live hinzu</h2>

<p>Wir gehen hier davon aus, dass Sie ein YouTube-Konto für Live-Streaming aktiviert haben.</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>Klicken <strong>geh Leben</strong> , und Sie sollten sehen:</p>

	<figure class="bcls-figure"><img alt="youtube-go-live" title="YouTube go live" src="/assets/images/live-api/18697/youtube-go-live-small.png" />
	<figcaption class="bcls-caption--image">YouTube geht live</figcaption>
	</figure>
	</li>
	<li>
	<p>Klicken Sie auf "Encoder-Livestreaming":</p>

	<figure class="bcls-figure"><img alt="youtube-encoder-live" title="YouTube encoder live source" src="/assets/images/live-api/18697/youtube-encoder-live-small.png" />
	<figcaption class="bcls-caption--image">Live-Quelle des YouTube-Encoders</figcaption>
	</figure>
	</li>
	<li>
	<p>Konfigurieren Sie die YouTube-Metadaten Ihres Live-Ereignisses und verwenden Sie die Daten zum Einrichten des Encoders, um den Brightcove-Livestream mit YouTube zu verbinden:</p>

	<figure class="bcls-figure"><img alt="youtube-encoder-setup" title="YouTube encoder setup" src="/assets/images/live-api/18697/youtube-encoder-setup-small.png" />
	<figcaption class="bcls-caption--image">Einrichtung des YouTube-Encoders</figcaption>
	</figure>
	</li>
	<li>
	<p>Nachdem wir YouTube Live eingerichtet haben, erstellen wir die RTMP-Ausgabe dafür aus unserem Live-Job.</p>
	</li>
	<li>
	<p>Kopiere das <span translate="No">Locken</span> Befehl unten in einen Texteditor:</p>

	<pre class="line-numbers">
<code class="language-bash" translate="No">curl -X POST \
  https://api.bcovlive.io/v1/jobs/{{bcov-live-job-id}}/rtmpouts \
  -H 'Content-Type: application/json' \
  -H 'x-api-key: {{bcov-live-api-key}}' \
  -d '{
  "url": "rtmp://a.rtmp.youtube.com/live2/{{youtube-secret-stream-name}}"
}'</code></pre>
	</li>
	<li>
	<p><strong>Ersetzen:</strong></p>

	<ul>
		<li><code translate="No">{{bcov-live-job-id}}</code> mit Ihrer Brightcove-Live-Job-ID. In unserem Beispiel wäre dieser Wert <code translate="No">3b6871bf2f344acaa6b397d09b476018</code> - Ihr Wert, von der Antwort auf Ihre Anfrage, den Live-Job zu erstellen, wird anders sein.</li>
		<li><code translate="No">{{bcov-live-api-key}}</code> für Ihren Brightcove-Live-API-Schlüssel. Zum Beispiel: <code translate="No">abcdfeg-this-is-a-fake-api-key-FgJajjasd12hJHsZ</code></li>
		<li><code translate="No">{{youtube-secret-stream-name}}</code> für den Streamnamen / Schlüssel, den YouTube zur Verfügung stellt</li>
	</ul>
	</li>
	<li>Fügen Sie den bearbeiteten Code in Ihre Befehlszeilen-App ein und führen Sie ihn aus.</li>
	<li>
	<p>Die Antwort sollte ungefähr so lauten:</p>

	<pre class="line-numbers">
<code class="language-json" translate="No">{
          "connection_info": {
            "host": "a.rtmp.youtube.com",
            "port": 1935,
            "application": "live2",
            "streamName": "{{youtube-secret-stream-name}}"
          },
          "duration_history": [],
          "rtmp_out_id": "27aacdfa5bcf4436ade0519e6a748aba",
          "stream_start": 1542902218238
        }</code></pre>
	</li>
	<li>
	<p>Um die YouTube-Wiedergabe zu testen, können Sie zu YouTube gehen <strong>mein Kanal</strong>:</p>

	<figure class="bcls-figure"><img alt="youtube-my-channel-playback" title="YouTube my channel playback" src="/assets/images/live-api/18697/youtube-my-channel-playback-small.png" />
	<figcaption class="bcls-caption--image">YouTube-Wiedergabe meines Kanals</figcaption>
	</figure>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="facebook_live">Füge den Livestream zu Facebook live hinzu</h2>

<p>Wir gehen hier davon aus, dass Sie ein für Livestreaming aktiviertes Facebook-Konto haben.</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>Klicken <strong>Live-Video</strong></p>
	</li>
	<li>
	<p>Klicken <strong>verbinden</strong> und Stream-Schlüssel, um die Daten abzurufen, die zum Verbinden Ihres Brightcove-Live-Jobs erforderlich sind:</p>

	<figure class="bcls-figure"><img alt="facebook-live-config" title="Facebook live config" src="/assets/images/live-api/18697/facebook-live-config-small.png" />
	<figcaption class="bcls-caption--image">Facebook Live-Konfiguration</figcaption>
	</figure>
	</li>
	<li>
	<p>Erstellen Sie als Nächstes eine Live-Ausgabe für den Brightcove-Live-Job mit "Server-URL" und "Stream-Schlüssel" von Facebook. Kopiere das <span translate="No">Locken</span> Befehl unten und fügen Sie ihn in einen Texteditor ein:</p>

	<pre class="line-numbers">
<code class="language-bash" translate="No">curl -X POST \
  https://api.bcovlive.io/v1/jobs/{{bcov-live-job-id}}/rtmpouts \
  -H 'Content-Type: application/json' \
  -H 'x-api-key: {{bcov-live-api-key}}' \
  -d '{
  "url": "rtmp://live-api-s.facebook.com:80/rtmp/{{facebook-secret-stream-name}}"
}'</code></pre>
	</li>
	<li>
	<p><strong>Ersetzen:</strong></p>

	<ul>
		<li><code translate="No">{{bcov-live-job-id}}</code> mit Ihrer Brightcove-Live-Job-ID. In unserem Beispiel wäre dieser Wert <code translate="No">3b6871bf2f344acaa6b397d09b476018</code> - Ihr Wert, von der Antwort auf Ihre Anfrage, den Live-Job zu erstellen, wird anders sein.</li>
		<li><code translate="No">{{bcov-live-api-key}}</code> mit Ihrem Brightcove Live-API-Schlüssel. Zum Beispiel: <code translate="No">abcdfeg-this-is-a-fake-api-key-FgJajjasd12hJHsZ</code></li>
		<li><code translate="No">{{facebook-secret-stream-name}}</code> mit deinem Streamnamen, den Facebook dir gibt</li>
	</ul>
	</li>
	<li>
	<p>Die Antwort sollte ungefähr so lauten:</p>

	<pre class="line-numbers">
<code class="language-json" translate="No">{
  "connection_info": {
      "host": "live-api-s.facebook.com",
      "port": 80,
      "application": "rtmp",
      "streamName": "{{facebook-secret-stream-name}}"
  },
  "duration_history": [],
  "rtmp_out_id": "59323c3d1e2b44748755853193fb126c",
  "stream_start": 1542904101097
}</code></pre>
	</li>
	<li>
	<p>Um Ihren Facebook Live-Stream zu testen, klicken Sie auf Ihrer Facebook-Webseite auf "Go Live".</p>
	<img alt="facebook-playback" title="Facebook playback" src="/assets/images/live-api/18697/facebook-playback-small.png" /></li>
</ol>
</section>
</article>