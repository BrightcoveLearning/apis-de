---
title: 'Holen Sie sich ein Zugriffstoken'
description: 'In diesem Beispiel wird ein Zugriffstoken von der Brightcove-OAuth-API von einer Web-App abgerufen und die Anfrage über einen Proxy gesendet.'
parent: Code Samples 
grandparent: OAuth API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">Einführung</h2>

    <p>Das Abrufen von Zugriffstoken ist für die meisten Arbeiten mit den Brightcove-APIs ein entscheidender Vorgang, da die meisten von ihnen Zugriffstoken zum Authentifizieren von Anforderungen verwenden.</p>

    <p>Eine vollständige Erläuterung der Zugriffstoken finden Sie unter <a href="/oauth/getting-started/overview-oauth-api-v4.html">So funktioniert der Brightcove OAuth-Dienst</a> und <a href="/oauth/guides/getting-access-tokens.html">Zugriffstoken erhalten</a>.</p>

    <p>In diesem Beispiel wird gezeigt, wie Sie ein Zugriffstoken von einer Web-App abrufen. Da die OAuth-API nicht CORS-fähig ist und Anfragen von der Serverseite gestellt werden müssen, sendet die App Informationen an einen Proxy, der dann die API-Anfrage stellt und die Antwort zurück an den Client sendet. Der Proxy hier ist in PHP geschrieben, aber jede serverseitige Sprache reicht aus - Sie müssen nur in der Lage sein, eine POST-Anfrage über das Internet an die App zu senden.</p>

    <aside class="bcls-aside bcls-aside--information">Dieses Beispiel und der zugehörige Code dienen als Leitfaden für Ihre Produktionsentwicklung. Der Code ist weder für den Produktionsgebrauch zertifiziert noch offiziell unterstützt.</aside>
  </section>

  <section class="bcls-section">
    <details>
      <summary>
        <h2 id="gettingCredentials">Zugangsdaten abrufen</h2>
      </summary>

      <p>Um einen zu bekommen <code translate="No">client_id</code> und <code translate="No">client_secret</code> , müssen Sie zur OAuth-Benutzeroberfläche gehen und diese App registrieren:</p>

      <ul>
        <li><a href="/general/managing-api-authentication-credentials.html">Anmeldeinformationen für die API-Authentifizierung verwalten</a></li>
      </ul>

      <p>Diese wählen die Berechtigungen aus, die Sie für die API benötigen, die Sie verwenden werden:</p>

      <figure class="bcls-figure"><img class="bcls-image" alt="API Permissions" src="/assets/images/oauth/guides/studio-api-operations.png" />
        <figcaption class="bcls-caption--image">API-Berechtigungen</figcaption>
      </figure>

      <p>Sie können Ihre Zugangsdaten auch über CURL oder Postman erhalten - siehe:</p>

      <ul>
        <li><a href="/oauth/guides/oauth-create-client-credentials-using-curl.html">Client-Anmeldeinformationen mit CURL abrufen</a></li>
        <li><a href="/oauth/guides/oauth-create-client-credentials-using-postman.html">Erhalten Sie Kundenanmeldeinformationen mit Postman</a></li>
      </ul>

      <p>Wenn Sie Anmeldeinformationen direkt von der OAuth-API abrufen, lesen Sie <a href="/oauth/guides/api-operations-client-credentials-requests.html">API-Operationen für Client-Anmeldeinformationen-Anforderungen</a> für die Berechtigungen, die Sie für verschiedene API-Operationen benötigen.</p>
    </details>
  </section>

  <section class="bcls-section">
    <h2 id="get_access_token_app">Zugriffstoken-App abrufen</h2>
    <h3>Quellcode</h3>
    <p>Hier finden Sie den gesamten Code, der mit diesem Beispiel verknüpft ist <a href="https://github.com/BrightcoveLearning/18520-oauth-api-sample-get-access-token">GitHub-Repository</a>.</p>
    <h3>Beispiel-App</h3>
    <p data-height="800" data-theme-id="34967" data-slug-hash="LmxBMG" data-default-tab="result" data-user="rcrooks1969" data-embed-version="2" data-pen-title="OAuth API Sample: Get an Access Token" class="codepen">Siehe den Stift <a href="https://codepen.io/team/rcrooks1969/pen/LmxBMG/">OAuth-API-Beispiel: Holen Sie sich ein Zugriffstoken</a> von Brightcove Learning Services (<a href="https://codepen.io/rcrooks1969">@rcroooks1969</a> ) An <a href="https://codepen.io">CodePen</a>.</p>
    <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
  </section>

  <section class="bcls-section">
    <details>
      <summary>
        <h2 id="Using_the_CodePen">Verwenden des CodePens</h2>
      </summary>

      <p>Hier sind einige Tipps, um den obigen CodePen effektiv zu verwenden:</p>

      <ul>
        <li>Schalten Sie die aktuelle Anzeige des Players um, indem Sie auf klicken <strong>Ergebnis</strong> Taste.</li>
        <li>Drücke den <strong>HTML/CSS/JS</strong> Tasten, um EINEN der Codetypen anzuzeigen.</li>
        <li>Klicken <strong>Auf CodePen bearbeiten</strong> in der oberen rechten Ecke, um diesen CodePen Ihrem eigenen Konto zuzuordnen.</li>
        <li>Hier finden Sie den gesamten Code, der mit diesem Beispiel verknüpft ist <a href="https://github.com/BrightcoveLearning/18520-oauth-api-sample-get-access-token">GitHub-Repository</a>.</li>
      </ul>
    </details>
  </section>

  <section class="bcls-section">
    <h2 id="proxy">Proxy-Code</h2>

    <p>Um Ihre eigene Version der Beispiel-App auf dieser Seite zu erstellen, müssen Sie Ihren eigenen Proxy erstellen und hosten. (Die von Brightcove Learning Services verwendeten Proxys akzeptieren nur Anfragen von Brightcove-Domänen.) Eine Version des Proxy-Codes ohne die Ursprungseinschränkungen wird unten angezeigt.</p>

    <pre class="line-numbers">
    <code class="language-php">&lt;?php /** * access-token-proxy.php - Proxy für Brightcove-RESTful-APIs * erhält ein Zugriffstoken und gibt es zurück * Zugriff: * (beachten Sie, dass Sie *immer* über HTTPS auf den Proxy zugreifen sollten) * Methode: POST * * @post {string} client_id - OAuth2-Client-ID mit ausreichenden Berechtigungen für die Anfrage * @post {string} client_secret - OAuth2-Client-Geheimnis mit ausreichenden Berechtigungen für die Anfrage * * @returns {string} $response - Von der OAuth-API empfangene JSON-Antwort */ // CORS-Aktivierung und andere Header header("Access-Control-Allow-Origin: *"); header("Inhaltstyp: Anwendung/json"); header("X-Content-Type-Optionen: nosniff"); header("X-XSS-Schutz"); // Beachten Sie, dass Sie, wenn Sie diesen Proxy für einen einzelnen Berechtigungsnachweis verwenden, // die Client-ID und das Geheimnis unten einfach hartcodieren können, anstatt sie zu übergeben $client_id = $_POST["client_id"]; $client_secret = $_POST["client_secret"]; $auth_string = "{$client_id}:{$client_secret}"; $request = "https://oauth.brightcove.com/v4/access_token?grant_type=client_credentials"; $ch = curl_init($request); curl_setopt_array($ch, array( CURLOPT_POST =&gt; TRUE, CURLOPT_RETURNTRANSFER =&gt; TRUE , CURLOPT_SSL_VERIFYPEER =&gt; FALSE, CURLOPT_USERPWD =&gt; $auth_string, CURLOPT_HTTPHEADER =&gt; array( 'Inhaltstyp: Anwendung/x-www-form-urlencoded', ) )); $response = curl_exec($ch); curl_close($ch ); // Auf Fehler prüfen if ($response === FALSE) { die(curl_error($ch)); echo 'An error occurred'; } anders { echo $response; } ?&gt; </code></pre>
  </section>
</article>