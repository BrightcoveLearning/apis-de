---
title: 'Kundenanmeldeinformationen erstellen'
description: 'In diesem Beispiel können Sie Client-Anmeldeinformationen für ein oder mehrere Konten erstellen und ihnen die von Ihnen ausgewählten API-Berechtigungen zuweisen.'
parent: Code Samples 
grandparent: OAuth API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">Einführung</h2>

    <p>Das Abrufen von Clientanmeldeinformationen ist eine einmalige Voraussetzung für das Abrufen von Zugriffstoken, die die meisten Brightcove-APIs zum Authentifizieren von Anforderungen verwenden.</p>

    <p>Eine vollständige Erläuterung der Kundenanmeldeinformationen finden Sie unter <a href="/oauth/getting-started/overview-oauth-api-v4.html">So funktioniert der Brightcove OAuth-Dienst</a>.</p>

    <p>In diesem Beispiel wird gezeigt, wie Sie Client-Anmeldeinformationen von einer Web-App abrufen. Da die OAuth-API nicht CORS-fähig ist und Anfragen von der Serverseite gestellt werden müssen, sendet die App die erforderlichen Informationen an einen Proxy, der dann die API-Anfrage stellt und die Antwort zurück an den Client sendet. Der Proxy hier ist in PHP geschrieben, aber jede serverseitige Sprache reicht aus - Sie müssen nur in der Lage sein, eine POST-Anfrage über das Internet an die App zu senden.</p>

    <aside class="bcls-aside bcls-aside--information">Dieses Beispiel und der zugehörige Code dienen als Leitfaden für Ihre Produktionsentwicklung. Der Code ist weder für den Produktionsgebrauch zertifiziert noch offiziell unterstützt.</aside>
  </section>

  <section class="bcls-section">
    <details>
      <summary>
        <h2 id="gettingCredentials">Ihr BC_TOKEN erhalten</h2>
      </summary>

      <p>Um einen zu bekommen <code translate="No">client_id</code> und <code translate="No">client_secret</code> über die OAuth-API benötigen Sie a <code translate="No">BC_TOKEN</code> um Ihre Anfrage zu authentifizieren. Ihr BC_TOKEN wird als Cookie gesetzt, wenn Sie sich bei Studio anmelden. Sie können dieses Cookie nach Belieben abrufen, aber um es einfacher zu machen, haben wir das folgende JavaScript-Snippet erstellt - Sie können es in die Entwicklerkonsole einfügen, wenn Sie bei Studio angemeldet sind, drücken Sie <strong>Rückkehr</strong> , und es erscheint eine Eingabeaufforderung mit dem BC_TOKEN:</p>
      <textarea class="bcls-code">var cookiesArray = document.cookie.split(";"), cookiesObj = {} , i, tmpArray = []; für (i = 0; i &lt; cookiesArray.length; i++) { tmpArray = cookiesArray[i].split("="); if (tmpArray[0].indexOf('BC_TOKEN') &gt; -1) { cookiesObj.BC_TOKEN = tmpArray[1]; } } window.prompt("BC_TOKEN:", cookiesObj.BC_TOKEN);</textarea>

      <aside class="bcls-aside bcls-aside--information">Beachten Sie, dass Sie ein Administrator für Ihr Konto sein müssen (oder das BC_TOKEN eines Administrators erhalten), um Client-Anmeldeinformationen erstellen zu können. Wenn Sie kein Admin-BC_TOKEN haben, gibt die folgende Anfrage einen Fehler zurück.</aside>
    </details>
  </section>

  <section class="bcls-section">
    <h2 id="get_credentials_app">Zugangsdaten-App abrufen</h2>
    <h3>Quellcode</h3>
    <p>Hier finden Sie den gesamten Code, der mit diesem Beispiel verknüpft ist <a href="https://github.com/BrightcoveLearning/18521-oauth-api-sample-create-client-credentials">GitHub-Repository</a>.</p>
    <h3>Beispiel-App</h3>
    <p class="codepen" data-height="1800" data-theme-id="0" data-default-tab="result" data-user="rcrooks1969" data-slug-hash="BxpxXe" style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;" data-pen-title="OAuth API Sample: Create Client Credentials"><span>Siehe den Stift <a href="https://codepen.io/team/rcrooks1969/pen/BxpxXe/"> OAuth-API-Beispiel: Kundenanmeldeinformationen erstellen</a> von Brightcove Learning Services (<a href="https://codepen.io/rcrooks1969">@rcroooks1969</a> ) An <a href="https://codepen.io">CodePen</a>.</span></p>
    <script async src="https://static.codepen.io/assets/embed/ei.js"></script>

    <section class="bcls-section">
      <details>
        <summary>
          <h2 id="Using_the_CodePen">Verwenden des CodePens</h2>
        </summary>

        <p>Hier sind einige Tipps, um den obigen CodePen effektiv zu verwenden:</p>

        <ul>
          <li>Schalten Sie die aktuelle Anzeige des Players um, indem Sie auf klicken <strong>Ergebnis</strong> Taste.</li>
          <li>Drücke den <strong>HTML/CSS/JS</strong> Tasten, um EINEN der Codetypen anzuzeigen.</li>
          <li>Klicken <strong>Auf CodePen bearbeiten</strong> in der oberen rechten Ecke, um diesen CodePen Ihrem eigenen Konto zuzuordnen.</li>
          <li>Hier finden Sie den gesamten Code, der mit diesem Beispiel verknüpft ist <a href="https://github.com/BrightcoveLearning/18521-oauth-api-sample-create-client-credentials">GitHub-Repository</a>.</li>
        </ul>
      </details>
    </section>

    <section class="bcls-section">
      <h2 id="proxy">Proxy-Code</h2>

      <p>Um Ihre eigene Version der Beispiel-App auf dieser Seite zu erstellen, müssen Sie Ihren eigenen Proxy erstellen und hosten. Dieser Proxy unterscheidet sich etwas von dem Proxy, der für die meisten unserer Beispiel-Apps verwendet wird, da sich die Authentifizierung für die OAuth-API-Methode zum Erstellen von Client-Anmeldeinformationen von der für die allgemeine API-Authentifizierung unterscheidet. Der vollständige Code für den hier verwendeten Proxy wird unten angezeigt.</p>

      <pre class="line-numbers">
        <code class="language-php">&lt;?php /** * client-credentials-proxy.php - Proxy für Brightcove-RESTful-APIs * Ruft eine Client-ID und ein Client-Geheimnis ab und gibt die gesamte Antwort zurück * Zugriff: * (Beachten Sie, dass Sie *immer* über HTTPS auf den Proxy zugreifen sollten) * Methode: POST * * @post {string} bc_token - BC_TOKEN mit Administratorrechten für alle Konten, für die Anmeldeinformationen angefordert werden * @post {JSONstring} requestBody - der vollständige Anfragetext als JSON-String * * @returns {string} $response - JSON-Antwort von der OAuth-API empfangen */ // Sicherheitsüberprüfungen if (strpos($_SERVER['HTTP_REFERER'], 'solutions.brightcove.com') == false &amp;&amp; strpos($_SERVER['HTTP_REFERER'], 'ondemand.brightcovelearning.com') == false &amp;&amp; strpos($_SERVER['HTTP_REFERER'], 'video.brightcovelearning.com') == false &amp;&amp; strpos($_SERVER['HTTP_REFERER'], 's.codepen.io ') == false &amp;&amp; strpos($_SERVER['HTTP_REFERER'], 'fiddle.jshell.net') == false &amp;&amp; strpos($_SERVER['HTTP_REFERER'], 'players.brightcove.net') == false &amp;&amp; strpos($_SERVER['HTTP_REFERER'], 'support.brightcove.com') == false &amp;&amp; strpos($_SERVER['HTTP_REFERER'], 'master-7rqtwti-6sglloa4yrkti.us.platform.sh') == false) { exit('{"ERROR":"Only requests from http://docs.brightcove.com or http:solutions.brightcove.com are accepted by this proxy"}'); } // CORS-Aktivierung und andere Header header("Access-Control-Allow-Origin: *"); header("Inhaltstyp: Anwendung/json"); header("X-Content-Type-Optionen: nosniff"); header("X-XSS-Schutz"); // Daten holen oder sterben if ($_POST["requestBody"]) { $data = json_decode($_POST["requestBody"]); } anders { exit("request body missing"); } // Anforderungstyp abrufen oder standardmäßig POST verwenden if ($_POST["requestType"]) { $method = $_POST["requestType"]; } anders { $method = 'POST'; } // bc_token holen oder sterben if ($_POST["bc_token"]) { $bc_token = $_POST["bc_token"]; } anders { exit("bc_token missing"); } $request = "https://oauth.brightcove.com/v4/client_credentials"; $ch = curl_init($request); curl_setopt_array($ch, array( CURLOPT_CUSTOMREQUEST =&gt; $method, CURLOPT_RETURNTRANSFER =&gt; TRUE, CURLOPT_SSL_VERIFYPEER =&gt; FALSE, CURLOPT_HTTPHEADER =&gt; array( 'Inhaltstyp: Anwendung/json:', "Autor BC_TOKEN {$bc_token} " ), CURLOPT_POSTFIELDS =&gt; json_encode($data) )); $response = curl_exec($ch); curl_close($ch); // Auf Fehler prüfen if ($response === FALSE) { die(curl_error($ch)); exit('An error occurred on making the request'); } anders { echo $response; } ?&gt; </code></pre>
    </section>
  </section>
</article>